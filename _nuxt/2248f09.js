(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{128:function(t,e,n){"use strict";n.r(e),e.default=function(){return{collections:[],currentCollection:0,cacheKey:"audioserve-",loginStatus:!1,loginsecret:null,server:null,folder:null,group:null,search:!1,searchterm:"",menu:!1,activepage:"library",groupDetails:{playback_speed:1,seekForwards:45,seekBackwards:30,active_books:[],finished_books:[]},book:{hash:null,name:null,author:null,description:null,cover:null,seek:0},folderDescription:"",secret:null,player:!1,transcode:"0",rightbar:!1}}},129:function(t,e,n){"use strict";function r(t){var e=t.server;return t.currentCollection>0&&(e=t.server+t.currentCollection+"/"),e}n.r(e),n.d(e,"getServerUrl",(function(){return r}))},130:function(t,e,n){"use strict";n.r(e),n.d(e,"loginsecret",(function(){return r})),n.d(e,"rightbar",(function(){return o})),n.d(e,"player",(function(){return c})),n.d(e,"groupDetails",(function(){return l})),n.d(e,"playbackSpeed",(function(){return f})),n.d(e,"book",(function(){return d})),n.d(e,"folder",(function(){return m})),n.d(e,"description",(function(){return h})),n.d(e,"cover",(function(){return w})),n.d(e,"folderDescription",(function(){return v})),n.d(e,"loginStatus",(function(){return y})),n.d(e,"server",(function(){return x})),n.d(e,"secret",(function(){return k})),n.d(e,"group",(function(){return O})),n.d(e,"collections",(function(){return j})),n.d(e,"currentCollection",(function(){return R})),n.d(e,"search",(function(){return z})),n.d(e,"searchterm",(function(){return S})),n.d(e,"menu",(function(){return menu})),n.d(e,"activepage",(function(){return C}));n(24),n(32),n(40),n(100);function r(t,data){t.loginsecret=data}function o(t,data){t.rightbar=data}function c(t,data){t.player=data}function l(t,data){t.groupDetails=data}function f(t,data){t.groupDetails.playback_speed=data}function d(t,data){t.book=data}function m(t,data){t.folder=data}function h(t,data){t.book.description=data}function w(t,data){t.book.cover=data}function v(t,data){t.folderDescription=data}function y(t,data){t.loginStatus=data}function x(t,data){t.server=data}function k(t,data){t.secret=data}function O(t,data){t.group=data}function j(t,data){t.collections=data}function R(t,data){t.currentCollection=data}function z(t,data){t.search=data}function S(t,data){t.searchterm=data}function menu(t,data){t.menu=data}function C(t,data){t.activepage=data}},131:function(t,e,n){"use strict";n.r(e),n.d(e,"setDetails",(function(){return R})),n.d(e,"login",(function(){return z})),n.d(e,"fetchCollections",(function(){return S})),n.d(e,"getFolderDescription",(function(){return I})),n.d(e,"getBookDetails",(function(){return A})),n.d(e,"updateBookDetails",(function(){return P})),n.d(e,"setBookDetails",(function(){return _})),n.d(e,"getDescription",(function(){return E})),n.d(e,"fileIsCached",(function(){return K})),n.d(e,"getCachedFile",(function(){return J})),n.d(e,"cacheFile",(function(){return H})),n.d(e,"tempCache",(function(){return $})),n.d(e,"initialiseApp",(function(){return N}));n(47),n(46),n(61),n(41),n(62),n(42),n(36),n(44),n(45);var r=n(30),o=n(4),c=(n(39),n(229),n(14),n(231),n(237),n(239),n(240),n(241),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(265),n(266),n(267),n(24),n(32),n(40),n(102),n(166),n(21),n(25),n(137),n(179)),l=n.n(c),f=n(138),d=n(135),m=n.n(d),h=n(63),w=n.n(h),v=n(17),y=n.n(v);function x(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return k(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function O(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function j(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?O(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):O(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function R(t,data){console.log("set details"),y.a.setItem("server",data.server),y.a.setItem("group",data.group),y.a.setItem("loginStatus",data.loginStatus),y.a.setItem("collections",data.collections),y.a.setItem("currentCollection",data.currentCollection)}function z(t,data){var e=!1,n=null;if(data.secret){var r=new TextEncoder("utf-8").encode(data.secret),c=new Uint8Array(32);window.crypto.getRandomValues(c);var l=new Uint8Array(r.length+c.length);l.set(r),l.set(c,r.length),(window.crypto.subtle?window.crypto.subtle.digest("SHA-256",l):Promise.resolve(f.sha256.arrayBuffer(l))).then((function(s){var r=m.a.fromByteArray(c)+"|"+m.a.fromByteArray(new Uint8Array(s)),l="secret="+encodeURIComponent(r);fetch(data.server+"authenticate",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:l}).then(function(){var r=Object(o.a)(regeneratorRuntime.mark((function r(o){var c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.text();case 2:return n=r.sent,w.a.set("audioserve_token",n),e=!0,t.commit("loginStatus",e),r.next=8,S(t);case 8:c=r.sent,R(0,j(j({},data),{},{loginStatus:e,collections:c.names,currentCollection:0}));case 10:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}()).catch((function(t){console.log(t)}))}))}else e=!0,n="noauth";t.commit("loginsecret",n),t.commit("loginStatus",e),R(0,j(j({},data),{},{loginStatus:e}))}function S(t){return C.apply(this,arguments)}function C(){return(C=Object(o.a)(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e.state.server+"collections",{headers:{Authorization:"Bearer "+w.a.get("audioserve_token")}});case 2:return n=t.sent,t.abrupt("return",n.json());case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function I(t,e){return D.apply(this,arguments)}function D(){return(D=Object(o.a)(regeneratorRuntime.mark((function t(e,path){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E(e,path);case 2:n=t.sent,e.commit("folderDescription",n);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(t,e){return B.apply(this,arguments)}function B(){return(B=Object(o.a)(regeneratorRuntime.mark((function t(e,n){var r,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.getItem(n);case 2:if(r=t.sent){t.next=14;break}if(o=null,!e.state.folder.description||!e.state.folder.description.path){t.next=9;break}return t.next=8,E(e,e.state.folder.description.path);case 8:o=t.sent;case 9:return c=null,e.state.folder.cover&&(c=e.state.server+"cover/"+e.state.folder.cover.path),r={hash:n,name:"Unknown",author:"Unknown",description:o,cover:c,seek:0},t.next=14,y.a.setItem(n,r);case 14:e.commit("book",r);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function P(t,e){return U.apply(this,arguments)}function U(){return(U=Object(o.a)(regeneratorRuntime.mark((function t(e,n){var r,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.state.book,o=n.book,c=j(j({},r),o),t.next=5,y.a.setItem(n.hash,c);case 5:e.commit("book",c);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t,e){return T.apply(this,arguments)}function T(){return(T=Object(o.a)(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.setItem(n.hash,n);case 2:e.commit("book",n);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function E(t,e){return F.apply(this,arguments)}function F(){return(F=Object(o.a)(regeneratorRuntime.mark((function t(e,path){var n,r,o,data,output,c,f,d,m,line;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.server+"desc/"+path,t.next=3,fetch(n,{headers:{Authorization:"Bearer "+w.a.get("audioserve_token")}});case 3:return r=t.sent,console.log(r),console.log(r.headers.get("Content-Type")),o=r.headers.get("Content-Type"),t.next=9,r.text();case 9:if(data=t.sent,console.log(data),output="",c="","text/html"===o)output=data;else if("text/x-markdown"===o||"text/markdown"===o)output=l()(data);else if("text/plain"===o){f=data.split(/\r?\n/),d=x(f);try{for(d.s();!(m=d.n()).done;)line=m.value,c+="<p>"+line+"</p>"}catch(t){d.e(t)}finally{d.f()}output=c}else output=r.data;return t.abrupt("return",output);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function K(t,e){return M.apply(this,arguments)}function M(){return(M=Object(o.a)(regeneratorRuntime.mark((function t(e,details){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.cacheKey+details.hash,t.next=3,caches.has(n);case 3:if(!t.sent){t.next=12;break}return t.next=7,caches.open(n);case 7:return r=t.sent,t.next=10,r.match(details.file);case 10:return o=t.sent,t.abrupt("return",void 0!==o);case 12:return t.abrupt("return",!1);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function J(t,e){return L.apply(this,arguments)}function L(){return(L=Object(o.a)(regeneratorRuntime.mark((function t(e,details){var n,r,o,c,l,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.cacheKey+details.hash,t.next=3,caches.open(n);case 3:return r=t.sent,t.next=6,r.match(details.file);case 6:if(o=t.sent,c=null,void 0===o){t.next=13;break}return t.next=11,o.blob();case 11:l=t.sent,c=URL.createObjectURL(l);case 13:f="mp3",t.t0=response.headers.get("content-type"),t.next="audio/aac"===t.t0?17:"audio/mpeg"===t.t0?19:"video/mp4"===t.t0?21:"audio/ogg"===t.t0?23:"audio/opus"===t.t0?25:"audio/wav"===t.t0?27:"audio/webm"===t.t0?29:"audio/3gpp"===t.t0?31:"audio/3gpp2"===t.t0?33:35;break;case 17:return f="aac",t.abrupt("break",35);case 19:return f="mp3",t.abrupt("break",35);case 21:return f="mp4",t.abrupt("break",35);case 23:return f="oga",t.abrupt("break",35);case 25:return f="opus",t.abrupt("break",35);case 27:return f="wav",t.abrupt("break",35);case 29:return f="weba",t.abrupt("break",35);case 31:return f="3gp",t.abrupt("break",35);case 33:return f="3g2",t.abrupt("break",35);case 35:return t.abrupt("return",{src:c,format:f});case 36:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function H(t,e){return V.apply(this,arguments)}function V(){return(V=Object(o.a)(regeneratorRuntime.mark((function t(e,details){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.cacheKey+details.hash,t.next=3,caches.open(n);case 3:return r=t.sent,t.next=6,fetch(details.file,{headers:{Authorization:"Bearer "+w.a.get("audioserve_token")}});case 6:return o=t.sent,console.log(o),t.next=10,r.put(details.file,o);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function $(t,e){return G.apply(this,arguments)}function G(){return(G=Object(o.a)(regeneratorRuntime.mark((function t(e,details){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K(e,details);case 2:if(!t.sent){t.next=5;break}return t.abrupt("return",J(e,details));case 5:return t.next=7,H(e,details);case 7:return t.abrupt("return",J(e,details));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(t){return Q.apply(this,arguments)}function Q(){return(Q=Object(o.a)(regeneratorRuntime.mark((function t(e){var n,r,o,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.getItem("server");case 2:return n=t.sent,t.next=5,y.a.getItem("group");case 5:return r=t.sent,t.next=8,y.a.getItem("loginStatus");case 8:return o=t.sent,t.next=11,y.a.getItem("collections");case 11:return c=t.sent,t.next=14,y.a.getItem("currentCollection");case 14:l=t.sent,n&&e.commit("server",n),r&&e.commit("group",r),o&&e.commit("loginStatus",o),c&&e.commit("collections",c),l&&e.commit("currentCollection",l);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},185:function(t,e,n){n(186),t.exports=n(187)},226:function(t,e,n){var content=n(227);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(79).default)("581dbee3",content,!0,{sourceMap:!1})},227:function(t,e,n){var r=n(78)((function(i){return i[1]}));r.push([t.i,'/*purgecss start ignore*/\n\n*,body{\n  font-family:"Roboto",sans-serif;\n  font-weight:300\n}\n\nbody{\n  --tw-text-opacity:1;\n  color:rgba(75, 85, 99, var(--tw-text-opacity))\n}\n\n.content-area{\n  height:calc(100vh - 6rem)\n}\n\n.mobilesearch{\n  position:absolute;\n  top:0;\n  left:0;\n  right:0;\n  bottom:0;\n  padding:15px\n}\n\n.mobilesearch input{\n  padding:.75rem 1.25rem\n}\n\n.label-floating label{\n  color:#9ca3af;\n  font-weight:300\n}\n\n.label-floating input:not(:-moz-placeholder-shown),.label-floating select:not(:-moz-placeholder-shown){\n  padding-top:1.6rem;\n  padding-bottom:.25rem\n}\n\n.label-floating input:not(:-ms-input-placeholder),.label-floating select:not(:-ms-input-placeholder){\n  padding-top:1.6rem;\n  padding-bottom:.25rem\n}\n\n.label-floating input:not(:-moz-placeholder-shown), .label-floating select:not(:-moz-placeholder-shown){\n  padding-top:1.6rem;\n  padding-bottom:.25rem\n}\n\n.label-floating input:not(:-ms-input-placeholder), .label-floating select:not(:-ms-input-placeholder){\n  padding-top:1.6rem;\n  padding-bottom:.25rem\n}\n\n.label-floating input:not(:placeholder-shown),.label-floating select:not(:placeholder-shown){\n  padding-top:1.6rem;\n  padding-bottom:.25rem\n}\n\n.label-floating input:not(:-moz-placeholder-shown)~label, .label-floating select:not(:-moz-placeholder-shown)~label{\n  padding-top:0.5rem;\n  padding-bottom:0.5rem;\n  font-weight:600;\n  --tw-text-opacity:1;\n  color:rgba(75, 85, 99, var(--tw-text-opacity))\n}\n\n.label-floating input:not(:-moz-placeholder-shown)~label,.label-floating select:not(:-moz-placeholder-shown)~label{\n  font-size:.8rem;\n  -moz-transition:all .2s ease-in-out;\n  transition:all .2s ease-in-out\n}\n\n.label-floating input:not(:-ms-input-placeholder)~label, .label-floating select:not(:-ms-input-placeholder)~label{\n  padding-top:0.5rem;\n  padding-bottom:0.5rem;\n  font-weight:600;\n  --tw-text-opacity:1;\n  color:rgba(75, 85, 99, var(--tw-text-opacity))\n}\n\n.label-floating input:not(:-ms-input-placeholder)~label,.label-floating select:not(:-ms-input-placeholder)~label{\n  font-size:.8rem;\n  -ms-transition:all .2s ease-in-out;\n  transition:all .2s ease-in-out\n}\n\n.label-floating input:not(:-moz-placeholder-shown)~label, .label-floating select:not(:-moz-placeholder-shown)~label{\n  padding-top:0.5rem;\n  padding-bottom:0.5rem;\n  font-weight:600;\n  --tw-text-opacity:1;\n  color:rgba(75, 85, 99, var(--tw-text-opacity))\n}\n\n.label-floating input:not(:-ms-input-placeholder)~label, .label-floating select:not(:-ms-input-placeholder)~label{\n  padding-top:0.5rem;\n  padding-bottom:0.5rem;\n  font-weight:600;\n  --tw-text-opacity:1;\n  color:rgba(75, 85, 99, var(--tw-text-opacity))\n}\n\n.label-floating input:not(:placeholder-shown)~label, .label-floating select:not(:placeholder-shown)~label{\n  padding-top:0.5rem;\n  padding-bottom:0.5rem;\n  font-weight:600;\n  --tw-text-opacity:1;\n  color:rgba(75, 85, 99, var(--tw-text-opacity))\n}\n\n.label-floating input:not(:-moz-placeholder-shown)~label, .label-floating select:not(:-moz-placeholder-shown)~label{\n  font-size:.8rem;\n  -moz-transition:all .2s ease-in-out;\n  transition:all .2s ease-in-out\n}\n\n.label-floating input:not(:-ms-input-placeholder)~label, .label-floating select:not(:-ms-input-placeholder)~label{\n  font-size:.8rem;\n  -ms-transition:all .2s ease-in-out;\n  transition:all .2s ease-in-out\n}\n\n.label-floating input:not(:placeholder-shown)~label,.label-floating select:not(:placeholder-shown)~label{\n  font-size:.8rem;\n  transition:all .2s ease-in-out\n}\n\n.breadcrumbs{\n  margin-bottom:1rem\n}\n\n.breadcrumbs span{\n  margin-right:0.5rem;\n  cursor:pointer;\n  font-size:0.875rem;\n  line-height:1.25rem;\n  --tw-text-opacity:1;\n  color:rgba(156, 163, 175, var(--tw-text-opacity));\n  text-decoration:underline\n}\n\n.breadcrumbs span.active{\n  font-weight:400;\n  font-weight:400;\n  --tw-text-opacity:1;\n  color:rgba(209, 213, 219, var(--tw-text-opacity));\n  --tw-text-opacity:1;\n  color:rgba(219, 39, 119, var(--tw-text-opacity));\n  text-decoration:none\n}\n\n.sidebar{\n  background-color:#f9f9f9\n}\n\n.nav{\n  transition-property:background-color, border-color, color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;\n  transition-property:background-color, border-color, color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;\n  transition-property:background-color, border-color, color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;\n  transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration:150ms;\n  border-left-width:6px\n}\n\n.nav:hover{\n  --tw-blur:var(--tw-empty,/*!*/ /*!*/);\n  --tw-brightness:var(--tw-empty,/*!*/ /*!*/);\n  --tw-contrast:var(--tw-empty,/*!*/ /*!*/);\n  --tw-grayscale:var(--tw-empty,/*!*/ /*!*/);\n  --tw-hue-rotate:var(--tw-empty,/*!*/ /*!*/);\n  --tw-invert:var(--tw-empty,/*!*/ /*!*/);\n  --tw-saturate:var(--tw-empty,/*!*/ /*!*/);\n  --tw-sepia:var(--tw-empty,/*!*/ /*!*/);\n  --tw-drop-shadow:var(--tw-empty,/*!*/ /*!*/);\n  filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\n  --tw-drop-shadow:drop-shadow(0 1px 1px rgba(0,0,0,0.05));\n  background-color:#f0f1f3\n}\n\n.nav.active{\n  --tw-border-opacity:1;\n  border-color:rgba(219, 39, 119, var(--tw-border-opacity));\n  --tw-blur:var(--tw-empty,/*!*/ /*!*/);\n  --tw-brightness:var(--tw-empty,/*!*/ /*!*/);\n  --tw-contrast:var(--tw-empty,/*!*/ /*!*/);\n  --tw-grayscale:var(--tw-empty,/*!*/ /*!*/);\n  --tw-hue-rotate:var(--tw-empty,/*!*/ /*!*/);\n  --tw-invert:var(--tw-empty,/*!*/ /*!*/);\n  --tw-saturate:var(--tw-empty,/*!*/ /*!*/);\n  --tw-sepia:var(--tw-empty,/*!*/ /*!*/);\n  --tw-drop-shadow:var(--tw-empty,/*!*/ /*!*/);\n  filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\n  --tw-drop-shadow:drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1)) drop-shadow(0 1px 1px rgba(0, 0, 0, 0.06));\n  border-left-width:6px;\n  background-color:#f9fafb\n}\n\n/*purgecss end ignore*/',""]),r.locals={},t.exports=r},228:function(t,e,n){"use strict";n.r(e);var r=n(128),o=n(129),c=n(130),l=n(131);e.default={namespaced:!0,state:r.default,getters:o,mutations:c,actions:l}}},[[185,13,2,14]]]);