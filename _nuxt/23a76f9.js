(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{304:function(t,e,l){"use strict";l.r(e);l(305),l(306),l(309);var r=l(310),c={name:"Player",props:["details","server"],data:function(){return{percent:30,remaining:"13h27m remaining",editPlaybackSpeed:!1,player:null,playing:!1,seek:0}},computed:{image:function(){return this.$store.state.app.book.cover},groupDetails:function(){return this.$store.state.app.groupDetails},playbackSpeed:function(){return Number.parseFloat(this.groupDetails.playback_speed).toFixed(2)},transcode:function(){return this.$store.state.app.transcode}},mounted:function(){console.log("mount player"),this.player=new r.Howl({src:[this.server+"audio/"+this.details.files[0].path+"?trans="+this.transcode],html5:!0})},methods:{closePlayer:function(){this.$store.commit("app/player",!1)},togglePlay:function(){this.playing?this.pause():this.play()},play:function(){console.log("play file"),this.player.seek(this.seek),this.player.play(),this.playing=!0},pause:function(){console.log("pause file"),this.player.pause(),this.seek=this.player.seek(),this.playing=!1},updatePlaybackSpeed:function(t){this.$store.commit("app/playbackSpeed",t.target.value)},increasePlaybackSpeed:function(){var t=parseFloat(this.playbackSpeed)+parseFloat("0.05");this.$store.commit("app/playbackSpeed",t.toFixed(2)),this.player.rate(t.toFixed(2))},decreasePlaybackSpeed:function(){var t=parseFloat(this.playbackSpeed)-parseFloat("0.05");this.$store.commit("app/playbackSpeed",t.toFixed(2)),this.player.rate(t.toFixed(2))}}},n=l(52),component=Object(n.a)(c,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"flex flex-col justify-between relative h-screen overflow-auto"},[l("div",{staticClass:"absolute top-0 right-0 bg-gray-200 w-8 h-8 rounded-bl flex cursor-pointer justify-center items-center",on:{click:t.closePlayer}},[l("i",{staticClass:"fa-thin fa-chevron-down"})]),t._v(" "),l("div",[l("div",{staticClass:"text p-8 pb-5 flex justify-center flex-shrink"},[l("img",{staticClass:"block shadow rounded-md",attrs:{src:t.image}})]),t._v(" "),l("div",{staticClass:"w-full px-8 flex flex-col text-center items-center"},[l("div",{staticClass:"text-xl font-semibold flex mb-2"},[t._v("Chapter 1")]),t._v(" "),l("div",{staticClass:"text-sm text-gray-400 mb-2"},[t._v(t._s(t.details.files[0].name)+" - Artist name")]),t._v(" "),l("div",{staticClass:"flex w-full pt-1 items-center"},[l("div",{staticClass:"relative flex-grow mr-2"},[l("div",{staticClass:"overflow-hidden h-2 text-xs flex rounded bg-purple-200"},[l("div",{staticClass:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-purple-400",style:{width:t.percent+"%"}})])]),t._v(" "),l("div",{staticClass:"text-sm"},[t._v(t._s(t.percent)+"%")])]),t._v(" "),l("div",{staticClass:"px-8 text-xs"},[t._v(t._s(t.remaining))])])]),t._v(" "),l("div",{staticClass:"flex items-center w-full justify-evenly my-5"},[t._m(0),t._v(" "),l("div",{staticClass:"cursor-pointer"},[l("span",{directives:[{name:"show",rawName:"v-show",value:!t.playing,expression:"!playing"}],staticClass:"fa-layers fa-fw fa-6x",on:{click:t.togglePlay}},[l("i",{staticClass:"fa-solid fa-circle text-gray-600"}),t._v(" "),l("i",{staticClass:"fa-inverse fa-solid fa-play",attrs:{"data-fa-transform":"shrink-10"}})]),t._v(" "),l("span",{directives:[{name:"show",rawName:"v-show",value:t.playing,expression:"playing"}],staticClass:"fa-layers fa-fw fa-6x",on:{click:t.togglePlay}},[l("i",{staticClass:"fa-solid fa-circle text-gray-600"}),t._v(" "),l("i",{staticClass:"fa-inverse fa-solid fa-pause",attrs:{"data-fa-transform":"shrink-10"}})])]),t._v(" "),t._m(1)]),t._v(" "),l("div",{staticClass:"p-5 w-full"},[l("div",{staticClass:"bg-gray-200 rounded p-3 px-6 w-full relative flex justify-between"},[l("button",{staticClass:"cursor-pointer",on:{click:function(e){t.editPlaybackSpeed=!0}}},[t._v(t._s(t.playbackSpeed)+"x")]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t.editPlaybackSpeed?l("div",{staticClass:"absolute inset-0 flex bg-gray-200 rounded justify-between p-3 px-6"},[l("span",[t._v(t._s(t.playbackSpeed)+"x")]),t._v(" "),l("div",{staticClass:"flex items-center"},[l("div",{staticClass:"mx-3 cursor-pointer",on:{click:t.decreasePlaybackSpeed}},[l("i",{staticClass:"fa-solid fa-circle-minus text-gray-600 fa-lg"})]),t._v(" "),l("div",[l("input",{staticClass:"w-12 p-2 text-center",domProps:{value:t.playbackSpeed},on:{input:t.updatePlaybackSpeed}})]),t._v(" "),l("div",{staticClass:"mx-3 cursor-pointer",on:{click:t.increasePlaybackSpeed}},[l("i",{staticClass:"fa-solid fa-circle-plus text-gray-600 fa-lg"})])]),t._v(" "),l("div",{staticClass:"cursor-pointer",on:{click:function(e){t.editPlaybackSpeed=!1}}},[t._v("Close")])]):t._e()])])])}),[function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{},[l("span",{staticClass:"fa-layers fa-fw fa-3x relative"},[l("i",{staticClass:"fa-thin fa-circle-notch fa-rotate-by",staticStyle:{"--fa-rotate-angle":"-23deg"}}),t._v(" "),l("i",{staticClass:"fa-solid fa-chevron-left",staticStyle:{"font-size":"12px"},attrs:{"data-fa-transform":"up-30"}}),t._v(" "),l("span",{staticClass:"text-sm absolute inset-0 flex justify-center items-center"},[t._v("30")])])])},function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{},[l("span",{staticClass:"fa-layers fa-fw fa-3x relative"},[l("i",{staticClass:"fa-thin fa-circle-notch fa-rotate-by",staticStyle:{"--fa-rotate-angle":"23deg"}}),t._v(" "),l("i",{staticClass:"fa-solid fa-chevron-right",staticStyle:{"font-size":"12px"},attrs:{"data-fa-transform":"up-30"}}),t._v(" "),l("span",{staticClass:"text-sm absolute inset-0 flex justify-center items-center"},[t._v("45")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"cursor-pointer"},[e("i",{staticClass:"fa-thin fa-alarm-snooze"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"cursor-pointer"},[e("i",{staticClass:"fa-thin fa-airplay"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"cursor-pointer"},[e("i",{staticClass:"fa-thin fa-sliders-up"})])}],!1,null,null,null);e.default=component.exports}}]);