(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{126:function(e,t,n){"use strict";n.r(t),t.default=function(){return{cacheKey:"audioserve-",loginStatus:!1,loginsecret:null,server:null,folder:null,group:null,groupDetails:{playback_speed:1,seekForwards:45,seekBackwards:30,active_books:[],finished_books:[]},book:{hash:null,name:null,author:null,description:null,cover:null,seek:0},folderDescription:"",secret:null,player:!1,transcode:"0",rightbar:!1}}},127:function(e,t,n){"use strict";function r(e){}n.r(t),n.d(t,"getStatus",(function(){return r}))},128:function(e,t,n){"use strict";n.r(t),n.d(t,"loginsecret",(function(){return r})),n.d(t,"rightbar",(function(){return o})),n.d(t,"player",(function(){return l})),n.d(t,"groupDetails",(function(){return c})),n.d(t,"playbackSpeed",(function(){return f})),n.d(t,"book",(function(){return d})),n.d(t,"folder",(function(){return h})),n.d(t,"description",(function(){return m})),n.d(t,"cover",(function(){return w})),n.d(t,"folderDescription",(function(){return y})),n.d(t,"loginStatus",(function(){return v})),n.d(t,"server",(function(){return x})),n.d(t,"initialiseApp",(function(){return k}));n(23),n(31);function r(e,data){e.loginsecret=data}function o(e,data){e.rightbar=data}function l(e,data){e.player=data}function c(e,data){e.groupDetails=data}function f(e,data){e.groupDetails.playback_speed=data}function d(e,data){e.book=data}function h(e,data){e.folder=data}function m(e,data){e.book.description=data}function w(e,data){e.book.cover=data}function y(e,data){e.folderDescription=data}function v(e,data){e.loginStatus=data}function x(e,data){e.server=data}function k(e){var t=localStorage.getItem("server"),n=localStorage.getItem("group"),r=localStorage.getItem("loginsecret"),o=localStorage.getItem("loginStatus");t&&(e.server=t),n&&(e.group=n),r&&(e.loginsecret=r),o&&(e.loginStatus=o)}},129:function(e,t,n){"use strict";n.r(t),n.d(t,"setDetails",(function(){return O})),n.d(t,"login",(function(){return S})),n.d(t,"getFolderDescription",(function(){return j})),n.d(t,"getBookDetails",(function(){return z})),n.d(t,"updateBookDetails",(function(){return I})),n.d(t,"setBookDetails",(function(){return P})),n.d(t,"getDescription",(function(){return U})),n.d(t,"fileIsCached",(function(){return C})),n.d(t,"getCachedFile",(function(){return T})),n.d(t,"cacheFile",(function(){return E})),n.d(t,"tempCache",(function(){return M}));n(49),n(48),n(72),n(39),n(73),n(40),n(33),n(42),n(43);var r=n(29),o=n(4),l=(n(38),n(228),n(14),n(230),n(236),n(238),n(239),n(240),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(264),n(265),n(266),n(23),n(31),n(44),n(100),n(165),n(20),n(24),n(135),n(178)),c=n.n(l),f=n(136),d=n(133),h=n.n(d),m=n(78),w=n.n(m);function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function x(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function k(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function O(e,data){localStorage.setItem("server",data.server),localStorage.setItem("group",data.group),localStorage.setItem("loginsecret",data.secret),localStorage.setItem("loginStatus",data.loginStatus)}function S(e,data){var t=!1,n=null;if(data.secret){var r=new TextEncoder("utf-8").encode(data.secret),l=new Uint8Array(32);window.crypto.getRandomValues(l);var c=new Uint8Array(r.length+l.length);c.set(r),c.set(l,r.length),(window.crypto.subtle?window.crypto.subtle.digest("SHA-256",c):Promise.resolve(f.sha256.arrayBuffer(c))).then((function(s){var r=h.a.fromByteArray(l)+"|"+h.a.fromByteArray(new Uint8Array(s)),c="secret="+encodeURIComponent(r);fetch(data.server+"authenticate",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:c}).then(function(){var r=Object(o.a)(regeneratorRuntime.mark((function r(o){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.text();case 2:n=r.sent,e.commit("loginStatus",!0),O(0,k(k({},data),{},{loginStatus:t})),w.a.set("audioserve_token",n);case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}))}else t=!0,n="noauth";e.commit("loginsecret",n),e.commit("loginStatus",t),O(0,k(k({},data),{},{loginsecret:n,loginStatus:t}))}function j(e,t){return R.apply(this,arguments)}function R(){return(R=Object(o.a)(regeneratorRuntime.mark((function e(t,path){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t,path);case 2:n=e.sent,t.commit("folderDescription",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,t){return D.apply(this,arguments)}function D(){return(D=Object(o.a)(regeneratorRuntime.mark((function e(t,n){var r,o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$localForage.getItem(n);case 2:if(r=e.sent){e.next=14;break}if(o=null,!t.state.folder.description||!t.state.folder.description.path){e.next=9;break}return e.next=8,U(t,t.state.folder.description.path);case 8:o=e.sent;case 9:return l=null,t.state.folder.cover&&(l=t.state.server+"cover/"+t.state.folder.cover.path),r={hash:n,name:"Unknown",author:"Unknown",description:o,cover:l,seek:0},e.next=14,this.$localForage.setItem(n,r);case 14:t.commit("book",r);case 15:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function I(e,t){return A.apply(this,arguments)}function A(){return(A=Object(o.a)(regeneratorRuntime.mark((function e(t,n){var r,o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state.book,o=n.book,l=k(k({},r),o),e.next=5,this.$localForage.setItem(n.hash,l);case 5:t.commit("book",l);case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function P(e,t){return B.apply(this,arguments)}function B(){return(B=Object(o.a)(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$localForage.setItem(n.hash,n);case 2:t.commit("book",n);case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function U(e,t){return _.apply(this,arguments)}function _(){return(_=Object(o.a)(regeneratorRuntime.mark((function e(t,path){var n,r,o,data,output,l,f,d,h,line;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state.server+"desc/"+path,e.next=3,fetch(n,{headers:{Authorization:"Bearer "+w.a.get("audioserve_token")}});case 3:return r=e.sent,console.log(r),console.log(r.headers.get("Content-Type")),o=r.headers.get("Content-Type"),e.next=9,r.text();case 9:if(data=e.sent,console.log(data),output="",l="","text/html"===o)output=data;else if("text/x-markdown"===o||"text/markdown"===o)output=c()(data);else if("text/plain"===o){f=data.split(/\r?\n/),d=y(f);try{for(d.s();!(h=d.n()).done;)line=h.value,l+="<p>"+line+"</p>"}catch(e){d.e(e)}finally{d.f()}output=l}else output=r.data;return e.abrupt("return",output);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t){return F.apply(this,arguments)}function F(){return(F=Object(o.a)(regeneratorRuntime.mark((function e(t,details){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state.cacheKey+details.hash,e.next=3,caches.has(n);case 3:if(!e.sent){e.next=12;break}return e.next=7,caches.open(n);case 7:return r=e.sent,e.next=10,r.match(details.file);case 10:return o=e.sent,e.abrupt("return",void 0!==o);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t){return $.apply(this,arguments)}function $(){return($=Object(o.a)(regeneratorRuntime.mark((function e(t,details){var n,r,o,l,c,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state.cacheKey+details.hash,e.next=3,caches.open(n);case 3:return r=e.sent,e.next=6,r.match(details.file);case 6:if(o=e.sent,l=null,void 0===o){e.next=13;break}return e.next=11,o.blob();case 11:c=e.sent,l=URL.createObjectURL(c);case 13:return f=/(?:\.([^.]+))?$/,e.abrupt("return",{src:l,format:f.exec(o.url)[1]});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t){return K.apply(this,arguments)}function K(){return(K=Object(o.a)(regeneratorRuntime.mark((function e(t,details){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state.cacheKey+details.hash,e.next=3,caches.open(n);case 3:return r=e.sent,e.next=6,fetch(details.file,{headers:{Authorization:"Bearer "+w.a.get("audioserve_token")}});case 6:return o=e.sent,console.log(o),e.next=10,r.put(details.file,o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t){return J.apply(this,arguments)}function J(){return(J=Object(o.a)(regeneratorRuntime.mark((function e(t,details){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t,details);case 2:if(!e.sent){e.next=5;break}return e.abrupt("return",T(t,details));case 5:return e.next=7,E(t,details);case 7:return e.abrupt("return",T(t,details));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},184:function(e,t,n){n(185),e.exports=n(186)},225:function(e,t,n){var content=n(226);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(77).default)("581dbee3",content,!0,{sourceMap:!1})},226:function(e,t,n){var r=n(76)((function(i){return i[1]}));r.push([e.i,'/*purgecss start ignore*/\n\n*,body{\n  font-family:"Roboto",sans-serif;\n  font-weight:300\n}\n\n.content-area{\n  height:calc(100vh - 6rem)\n}\n\n.mobilesearch{\n  position:absolute;\n  top:0;\n  left:0;\n  right:0;\n  bottom:0;\n  padding:15px;\n  background:#fff\n}\n\n.mobilesearch input{\n  padding:.75rem 1.25rem\n}\n\n.label-floating input:not(:-moz-placeholder-shown),.label-floating select:not(:-moz-placeholder-shown){\n  padding-top:1.6rem;\n  padding-bottom:.25rem\n}\n\n.label-floating input:not(:-ms-input-placeholder),.label-floating select:not(:-ms-input-placeholder){\n  padding-top:1.6rem;\n  padding-bottom:.25rem\n}\n\n.label-floating input:not(:-moz-placeholder-shown), .label-floating select:not(:-moz-placeholder-shown){\n  padding-top:1.6rem;\n  padding-bottom:.25rem\n}\n\n.label-floating input:not(:-ms-input-placeholder), .label-floating select:not(:-ms-input-placeholder){\n  padding-top:1.6rem;\n  padding-bottom:.25rem\n}\n\n.label-floating input:not(:placeholder-shown),.label-floating select:not(:placeholder-shown){\n  padding-top:1.6rem;\n  padding-bottom:.25rem\n}\n\n.label-floating input:not(:-moz-placeholder-shown)~label, .label-floating select:not(:-moz-placeholder-shown)~label{\n  padding-top:0.5rem;\n  padding-bottom:0.5rem;\n  font-weight:600;\n  --tw-text-opacity:1;\n  color:rgba(139, 92, 246, var(--tw-text-opacity))\n}\n\n.label-floating input:not(:-moz-placeholder-shown)~label,.label-floating select:not(:-moz-placeholder-shown)~label{\n  font-size:.8rem;\n  -moz-transition:all .2s ease-in-out;\n  transition:all .2s ease-in-out\n}\n\n.label-floating input:not(:-ms-input-placeholder)~label, .label-floating select:not(:-ms-input-placeholder)~label{\n  padding-top:0.5rem;\n  padding-bottom:0.5rem;\n  font-weight:600;\n  --tw-text-opacity:1;\n  color:rgba(139, 92, 246, var(--tw-text-opacity))\n}\n\n.label-floating input:not(:-ms-input-placeholder)~label,.label-floating select:not(:-ms-input-placeholder)~label{\n  font-size:.8rem;\n  -ms-transition:all .2s ease-in-out;\n  transition:all .2s ease-in-out\n}\n\n.label-floating input:not(:-moz-placeholder-shown)~label, .label-floating select:not(:-moz-placeholder-shown)~label{\n  padding-top:0.5rem;\n  padding-bottom:0.5rem;\n  font-weight:600;\n  --tw-text-opacity:1;\n  color:rgba(139, 92, 246, var(--tw-text-opacity))\n}\n\n.label-floating input:not(:-ms-input-placeholder)~label, .label-floating select:not(:-ms-input-placeholder)~label{\n  padding-top:0.5rem;\n  padding-bottom:0.5rem;\n  font-weight:600;\n  --tw-text-opacity:1;\n  color:rgba(139, 92, 246, var(--tw-text-opacity))\n}\n\n.label-floating input:not(:placeholder-shown)~label, .label-floating select:not(:placeholder-shown)~label{\n  padding-top:0.5rem;\n  padding-bottom:0.5rem;\n  font-weight:600;\n  --tw-text-opacity:1;\n  color:rgba(139, 92, 246, var(--tw-text-opacity))\n}\n\n.label-floating input:not(:-moz-placeholder-shown)~label, .label-floating select:not(:-moz-placeholder-shown)~label{\n  font-size:.8rem;\n  -moz-transition:all .2s ease-in-out;\n  transition:all .2s ease-in-out\n}\n\n.label-floating input:not(:-ms-input-placeholder)~label, .label-floating select:not(:-ms-input-placeholder)~label{\n  font-size:.8rem;\n  -ms-transition:all .2s ease-in-out;\n  transition:all .2s ease-in-out\n}\n\n.label-floating input:not(:placeholder-shown)~label,.label-floating select:not(:placeholder-shown)~label{\n  font-size:.8rem;\n  transition:all .2s ease-in-out\n}\n\n.breadcrumbs{\n  margin-bottom:1rem\n}\n\n.breadcrumbs span{\n  margin-right:0.5rem;\n  cursor:pointer;\n  font-size:0.875rem;\n  line-height:1.25rem;\n  --tw-text-opacity:1;\n  color:rgba(156, 163, 175, var(--tw-text-opacity));\n  text-decoration:underline\n}\n\n.breadcrumbs span.active{\n  font-weight:400;\n  font-weight:600;\n  --tw-text-opacity:1;\n  color:rgba(209, 213, 219, var(--tw-text-opacity));\n  --tw-text-opacity:1;\n  color:rgba(167, 139, 250, var(--tw-text-opacity));\n  text-decoration:none\n}\n\n/*purgecss end ignore*/',""]),r.locals={},e.exports=r},227:function(e,t,n){"use strict";n.r(t);var r=n(126),o=n(127),l=n(128),c=n(129);t.default={namespaced:!0,state:r.default,getters:o,mutations:l,actions:c}}},[[184,8,2,9]]]);