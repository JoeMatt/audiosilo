(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(t,e,n){"use strict";n.r(e);var r={name:"FloatingLabelInput",props:["value","title"],data:function(){return{}}},o=n(9),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"relative border border-gray-100 rounded-2xl appearance-none label-floating lg:block max-w-xl flex-grow"},[n("input",{staticClass:"w-full py-3 px-5 bg-gray-300 shadow-inner leading-normal rounded-2xl max-w-xl",attrs:{type:"text",placeholder:t.title},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}}),t._v(" "),n("label",{staticClass:"pointer-events-none font-normal select-none absolute block top-0 left-0 w-full px-5 py-3 leading-normal"},[t._v("\n    "+t._s(t.title)+"\n  ")])])}),[],!1,null,null,null);e.default=component.exports},133:function(t,e,n){"use strict";n.r(e),e.default=function(){return{collections:[],currentCollection:0,cacheKey:"audioserve-",loginStatus:!1,loginsecret:null,server:null,folder:null,group:null,search:!1,searchterm:"",menu:!1,activepage:"library",groupDetails:{playback_speed:1,seekForwards:45,seekBackwards:30,active_books:[],finished_books:[]},book:{hash:null,name:null,author:null,description:null,cover:null,seek:0},folderDescription:"",secret:null,player:!1,transcode:"0",rightbar:!1}}},134:function(t,e,n){"use strict";function r(t){var e=t.server;return t.currentCollection>0&&(e=t.server+t.currentCollection+"/"),e}n.r(e),n.d(e,"getServerUrl",(function(){return r}))},135:function(t,e,n){"use strict";n.r(e),n.d(e,"loginsecret",(function(){return r})),n.d(e,"rightbar",(function(){return o})),n.d(e,"player",(function(){return l})),n.d(e,"groupDetails",(function(){return c})),n.d(e,"playbackSpeed",(function(){return f})),n.d(e,"book",(function(){return d})),n.d(e,"folder",(function(){return h})),n.d(e,"description",(function(){return m})),n.d(e,"cover",(function(){return v})),n.d(e,"folderDescription",(function(){return x})),n.d(e,"loginStatus",(function(){return w})),n.d(e,"server",(function(){return y})),n.d(e,"secret",(function(){return k})),n.d(e,"group",(function(){return _})),n.d(e,"collections",(function(){return C})),n.d(e,"currentCollection",(function(){return S})),n.d(e,"search",(function(){return j})),n.d(e,"searchterm",(function(){return $})),n.d(e,"menu",(function(){return menu})),n.d(e,"activepage",(function(){return F}));n(21),n(32),n(34),n(97);function r(t,data){t.loginsecret=data}function o(t,data){t.rightbar=data}function l(t,data){t.player=data}function c(t,data){t.groupDetails=data}function f(t,data){t.groupDetails.playback_speed=data}function d(t,data){t.book=data}function h(t,data){t.folder=data}function m(t,data){t.book.description=data}function v(t,data){t.book.cover=data}function x(t,data){t.folderDescription=data}function w(t,data){t.loginStatus=data}function y(t,data){t.server=data}function k(t,data){t.secret=data}function _(t,data){t.group=data}function C(t,data){t.collections=data}function S(t,data){t.currentCollection=data}function j(t,data){t.search=data}function $(t,data){t.searchterm=data}function menu(t,data){t.menu=data}function F(t,data){t.activepage=data}},136:function(t,e,n){"use strict";n.r(e),n.d(e,"setDetails",(function(){return S})),n.d(e,"login",(function(){return j})),n.d(e,"fetchCollections",(function(){return $})),n.d(e,"getFolderDescription",(function(){return O})),n.d(e,"getBookDetails",(function(){return P})),n.d(e,"updateBookDetails",(function(){return D})),n.d(e,"setBookDetails",(function(){return I})),n.d(e,"getDescription",(function(){return U})),n.d(e,"fileIsCached",(function(){return B})),n.d(e,"contentToExtension",(function(){return M})),n.d(e,"getCachedFile",(function(){return N})),n.d(e,"cacheFile",(function(){return K})),n.d(e,"tempCache",(function(){return G})),n.d(e,"initialiseApp",(function(){return X}));n(49),n(48),n(65),n(33),n(66),n(45),n(41),n(46),n(47);var r=n(36),o=n(2),l=(n(29),n(251),n(14),n(253),n(259),n(261),n(262),n(263),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(287),n(288),n(289),n(21),n(32),n(34),n(106),n(170),n(20),n(25),n(99),n(190)),c=n.n(l),f=n(59),d=n(140),h=n.n(d),m=n(42),v=n.n(m),x=n(18),w=n.n(x);function y(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return k(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return l=t.done,t},e:function(t){c=!0,o=t},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function C(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function S(t,data){console.log("set details"),w.a.setItem("server",data.server),w.a.setItem("group",data.group),w.a.setItem("loginStatus",data.loginStatus),w.a.setItem("collections",data.collections),w.a.setItem("currentCollection",data.currentCollection)}function j(t,data){var e=!1,n=null;if(data.secret){var r=new TextEncoder("utf-8").encode(data.secret),l=new Uint8Array(32);window.crypto.getRandomValues(l);var c=new Uint8Array(r.length+l.length);c.set(r),c.set(l,r.length),(window.crypto.subtle?window.crypto.subtle.digest("SHA-256",c):Promise.resolve(f.sha256.arrayBuffer(c))).then((function(s){var r=h.a.fromByteArray(l)+"|"+h.a.fromByteArray(new Uint8Array(s)),c="secret="+encodeURIComponent(r);fetch(data.server+"authenticate",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:c}).then(function(){var r=Object(o.a)(regeneratorRuntime.mark((function r(o){var l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.text();case 2:return n=r.sent,v.a.set("audioserve_token",n),e=!0,t.commit("loginStatus",e),r.next=8,$(t);case 8:l=r.sent,S(0,C(C({},data),{},{loginStatus:e,collections:l.names,currentCollection:0}));case 10:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}()).catch((function(t){console.log(t)}))}))}else e=!0,n="noauth";t.commit("loginsecret",n),t.commit("loginStatus",e),S(0,C(C({},data),{},{loginStatus:e}))}function $(t){return F.apply(this,arguments)}function F(){return(F=Object(o.a)(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e.state.server+"collections",{headers:{Authorization:"Bearer "+v.a.get("audioserve_token")}});case 2:return n=t.sent,t.abrupt("return",n.json());case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(t,e){return R.apply(this,arguments)}function R(){return(R=Object(o.a)(regeneratorRuntime.mark((function t(e,path){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(e,path);case 2:n=t.sent,e.commit("folderDescription",n);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function P(t,e){return z.apply(this,arguments)}function z(){return(z=Object(o.a)(regeneratorRuntime.mark((function t(e,n){var r,o,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.getItem(n);case 2:if(r=t.sent){t.next=14;break}if(o=null,!e.state.folder.description||!e.state.folder.description.path){t.next=9;break}return t.next=8,U(e,e.state.folder.description.path);case 8:o=t.sent;case 9:return l=null,e.state.folder.cover&&(l=e.state.server+"cover/"+e.state.folder.cover.path),r={hash:n,name:"Unknown",author:"Unknown",description:o,cover:l,seek:0},t.next=14,w.a.setItem(n,r);case 14:e.commit("book",r);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function D(t,e){return L.apply(this,arguments)}function L(){return(L=Object(o.a)(regeneratorRuntime.mark((function t(e,n){var r,o,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.state.book,o=n.book,l=C(C({},r),o),t.next=5,w.a.setItem(n.hash,l);case 5:e.commit("book",l);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function I(t,e){return T.apply(this,arguments)}function T(){return(T=Object(o.a)(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.setItem(n.hash,n);case 2:e.commit("book",n);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function U(t,e){return A.apply(this,arguments)}function A(){return(A=Object(o.a)(regeneratorRuntime.mark((function t(e,path){var n,r,o,data,output,l,f,d,h,line;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.server+"desc/"+path,t.next=3,fetch(n,{headers:{Authorization:"Bearer "+v.a.get("audioserve_token")}});case 3:return r=t.sent,console.log(r),console.log(r.headers.get("Content-Type")),o=r.headers.get("Content-Type"),t.next=9,r.text();case 9:if(data=t.sent,console.log(data),output="",l="","text/html"===o)output=data;else if("text/x-markdown"===o||"text/markdown"===o)output=c()(data);else if("text/plain"===o){f=data.split(/\r?\n/),d=y(f);try{for(d.s();!(h=d.n()).done;)line=h.value,l+="<p>"+line+"</p>"}catch(t){d.e(t)}finally{d.f()}output=l}else output=r.data;return t.abrupt("return",output);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function B(t,e){return E.apply(this,arguments)}function E(){return(E=Object(o.a)(regeneratorRuntime.mark((function t(e,details){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.cacheKey+details.hash,t.next=3,caches.has(n);case 3:if(!t.sent){t.next=12;break}return t.next=7,caches.open(n);case 7:return r=t.sent,t.next=10,r.match(details.file);case 10:return o=t.sent,t.abrupt("return",void 0!==o);case 12:return t.abrupt("return",!1);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function M(t){var e="mp3";switch(t){case"audio/aac":e="aac";break;case"audio/mpeg":e="mp3";break;case"video/mp4":e="mp4";break;case"audio/ogg":e="oga";break;case"audio/opus":e="opus";break;case"audio/wav":e="wav";break;case"audio/webm":e="weba";break;case"audio/3gpp":e="3gp";break;case"audio/3gpp2":e="3g2"}return e}function N(t,e){return H.apply(this,arguments)}function H(){return(H=Object(o.a)(regeneratorRuntime.mark((function t(e,details){var n,r,o,l,c,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.cacheKey+details.hash,t.next=3,caches.open(n);case 3:return r=t.sent,t.next=6,r.match(details.file);case 6:if(o=t.sent,l=null,void 0===o){t.next=13;break}return t.next=11,o.blob();case 11:c=t.sent,l=URL.createObjectURL(c);case 13:return f=M(o.headers.get("content-type")),t.abrupt("return",{src:l,format:f});case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function K(t,e){return J.apply(this,arguments)}function J(){return(J=Object(o.a)(regeneratorRuntime.mark((function t(e,details){var n,r,o,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.cacheKey+details.hash,t.next=3,caches.open(n);case 3:return r=t.sent,t.next=6,fetch(details.file,{headers:{Authorization:"Bearer "+v.a.get("audioserve_token")}});case 6:return o=t.sent,console.log(o),l=o.clone(),r.put(details.file,o),t.abrupt("return",l);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function G(t,e){return V.apply(this,arguments)}function V(){return(V=Object(o.a)(regeneratorRuntime.mark((function t(e,details){var n,r,o,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(e,details);case 2:if(!t.sent){t.next=5;break}return t.abrupt("return",N(e,details));case 5:return t.next=7,K(e,details);case 7:if(n=t.sent,r=null,void 0===n){t.next=14;break}return t.next=12,n.blob();case 12:o=t.sent,r=URL.createObjectURL(o);case 14:return l=M(n.headers.get("content-type")),t.abrupt("return",{src:r,format:l});case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function X(t){return Q.apply(this,arguments)}function Q(){return(Q=Object(o.a)(regeneratorRuntime.mark((function t(e){var n,r,o,l,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.getItem("server");case 2:return n=t.sent,t.next=5,w.a.getItem("group");case 5:return r=t.sent,t.next=8,w.a.getItem("loginStatus");case 8:return o=t.sent,t.next=11,w.a.getItem("collections");case 11:return l=t.sent,t.next=14,w.a.getItem("currentCollection");case 14:c=t.sent,n&&e.commit("server",n),r&&e.commit("group",r),o&&e.commit("loginStatus",o),l&&e.commit("collections",l),c&&e.commit("currentCollection",c);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},142:function(t,e,n){"use strict";n(14),n(98),n(292);e.a=function(t,e){t.app;function n(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Math.floor(t/3600).toString(),r=Math.floor(t%3600/60).toString(),s=Math.floor(t%60).toString();return e&&(n=n.padStart(2,"0"),r=r.padStart(2,"0"),s=s.padStart(2,"0")),{h:n,m:r,s:s}}e("formatToTime",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],time=n(t,r),output="";return time.h>0&&(output+=time.h+"h"),output+=time.m+"m",3===e&&(output+=time.s+"s"),output})),e("formatToPlayback",(function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],time=n(t,e),output="";return time.h>0&&(output+=time.h+":"),output+String(time.m).padStart(2,"0")+":"+String(time.s).padStart(2,"0")}))}},174:function(t,e,n){var content=n(240);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(58).default)("d48b1a92",content,!0,{sourceMap:!1})},176:function(t,e,n){var content=n(244);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(58).default)("51cd7b17",content,!0,{sourceMap:!1})},179:function(t,e,n){var content=n(249);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(58).default)("52269f99",content,!0,{sourceMap:!1})},194:function(t,e,n){"use strict";var r={name:"Layout",data:function(){return{foldername:""}},components:{},computed:{currentFolder:function(){return this.$route.query.folder||""},loginStatus:function(){return this.$store.state.app.loginStatus},server:function(){return this.$store.state.app.server},folder:function(){return this.$store.state.app.folder},rightbar:function(){return this.$store.state.app.rightbar},player:function(){return this.$store.state.app.player}}},o=n(9),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"relative flex items-top min-h-screen bg-gray-200 w-full overflow-hidden"},[n("div",{staticClass:"flex flex-col items-top h-screen w-full"},[n("Header"),t._v(" "),n("div",{staticClass:"flex w-full relative h-screen"},[n("Nav"),t._v(" "),n("Nuxt")],1),t._v(" "),n("LoginStatus")],1),t._v(" "),n("div",{staticClass:"transform transition-all border-l h-screen border-gray-300 w-full max-w-sm items-top absolute lg:relative inset-0 flex bg-gray-100 flex-col",class:{"-mr-96":!1===t.rightbar,"translate-x-full":!1===t.rightbar}},[null!==t.folder&&t.folder.files&&0===t.folder.files.length?n("folder-details",{attrs:{server:t.server,details:t.folder,name:t.foldername}}):t._e(),t._v(" "),null!==t.folder&&t.folder.files&&t.folder.files.length>0?n("book-details",{attrs:{server:t.server,details:t.folder,name:t.foldername}}):t._e()],1),t._v(" "),n("div",{staticClass:"transition-all transform absolute right-0 border-l h-screen border-gray-300 w-full max-w-sm items-top flex flex-col",class:{"translate-y-full":!1===t.player}},[null!==t.folder&&!1!==t.player?n("player",{attrs:{server:t.server,details:t.folder}}):t._e()],1)])}),[],!1,null,null,null);e.a=component.exports;installComponents(component,{Header:n(295).default,Nav:n(296).default,LoginStatus:n(297).default,FolderDetails:n(298).default,BookDetails:n(299).default,Player:n(300).default})},195:function(t,e,n){"use strict";var r=n(9),component=Object(r.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("\n  I AM HERE\n  "),n("Nuxt")],1)}),[],!1,null,null,null);e.a=component.exports},196:function(t,e,n){n(197),t.exports=n(198)},237:function(t,e,n){var content=n(238);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(58).default)("581dbee3",content,!0,{sourceMap:!1})},238:function(t,e,n){var r=n(57)((function(i){return i[1]}));r.push([t.i,'/*purgecss start ignore*/\n\n*,body{\n  font-family:"Roboto",sans-serif;\n  font-weight:300\n}\n\nbody{\n  --tw-text-opacity:1;\n  color:rgba(75, 85, 99, var(--tw-text-opacity))\n}\n\n.content-area{\n  height:calc(100vh - 6rem)\n}\n\n.mobilesearch{\n  position:absolute;\n  top:0;\n  left:0;\n  right:0;\n  bottom:0;\n  padding:15px\n}\n\n.mobilesearch input{\n  padding:.75rem 1.25rem\n}\n\n.label-floating label{\n  color:#9ca3af;\n  font-weight:300\n}\n\n.label-floating input:not(:-moz-placeholder-shown),.label-floating select:not(:-moz-placeholder-shown){\n  padding-top:1.6rem;\n  padding-bottom:.25rem\n}\n\n.label-floating input:not(:-ms-input-placeholder),.label-floating select:not(:-ms-input-placeholder){\n  padding-top:1.6rem;\n  padding-bottom:.25rem\n}\n\n.label-floating input:not(:-moz-placeholder-shown), .label-floating select:not(:-moz-placeholder-shown){\n  padding-top:1.6rem;\n  padding-bottom:.25rem\n}\n\n.label-floating input:not(:-ms-input-placeholder), .label-floating select:not(:-ms-input-placeholder){\n  padding-top:1.6rem;\n  padding-bottom:.25rem\n}\n\n.label-floating input:not(:placeholder-shown),.label-floating select:not(:placeholder-shown){\n  padding-top:1.6rem;\n  padding-bottom:.25rem\n}\n\n.label-floating input:not(:-moz-placeholder-shown)~label, .label-floating select:not(:-moz-placeholder-shown)~label{\n  padding-top:0.5rem;\n  padding-bottom:0.5rem;\n  font-weight:600;\n  --tw-text-opacity:1;\n  color:rgba(75, 85, 99, var(--tw-text-opacity))\n}\n\n.label-floating input:not(:-moz-placeholder-shown)~label,.label-floating select:not(:-moz-placeholder-shown)~label{\n  font-size:.8rem;\n  -moz-transition:all .2s ease-in-out;\n  transition:all .2s ease-in-out\n}\n\n.label-floating input:not(:-ms-input-placeholder)~label, .label-floating select:not(:-ms-input-placeholder)~label{\n  padding-top:0.5rem;\n  padding-bottom:0.5rem;\n  font-weight:600;\n  --tw-text-opacity:1;\n  color:rgba(75, 85, 99, var(--tw-text-opacity))\n}\n\n.label-floating input:not(:-ms-input-placeholder)~label,.label-floating select:not(:-ms-input-placeholder)~label{\n  font-size:.8rem;\n  -ms-transition:all .2s ease-in-out;\n  transition:all .2s ease-in-out\n}\n\n.label-floating input:not(:-moz-placeholder-shown)~label, .label-floating select:not(:-moz-placeholder-shown)~label{\n  padding-top:0.5rem;\n  padding-bottom:0.5rem;\n  font-weight:600;\n  --tw-text-opacity:1;\n  color:rgba(75, 85, 99, var(--tw-text-opacity))\n}\n\n.label-floating input:not(:-ms-input-placeholder)~label, .label-floating select:not(:-ms-input-placeholder)~label{\n  padding-top:0.5rem;\n  padding-bottom:0.5rem;\n  font-weight:600;\n  --tw-text-opacity:1;\n  color:rgba(75, 85, 99, var(--tw-text-opacity))\n}\n\n.label-floating input:not(:placeholder-shown)~label, .label-floating select:not(:placeholder-shown)~label{\n  padding-top:0.5rem;\n  padding-bottom:0.5rem;\n  font-weight:600;\n  --tw-text-opacity:1;\n  color:rgba(75, 85, 99, var(--tw-text-opacity))\n}\n\n.label-floating input:not(:-moz-placeholder-shown)~label, .label-floating select:not(:-moz-placeholder-shown)~label{\n  font-size:.8rem;\n  -moz-transition:all .2s ease-in-out;\n  transition:all .2s ease-in-out\n}\n\n.label-floating input:not(:-ms-input-placeholder)~label, .label-floating select:not(:-ms-input-placeholder)~label{\n  font-size:.8rem;\n  -ms-transition:all .2s ease-in-out;\n  transition:all .2s ease-in-out\n}\n\n.label-floating input:not(:placeholder-shown)~label,.label-floating select:not(:placeholder-shown)~label{\n  font-size:.8rem;\n  transition:all .2s ease-in-out\n}\n\n.breadcrumbs{\n  margin-top:0.5rem;\n  margin-bottom:1.5rem\n}\n\n.breadcrumbs span{\n  margin-right:0.5rem;\n  cursor:pointer;\n  border-radius:0.25rem;\n  --tw-bg-opacity:1;\n  background-color:rgba(209, 213, 219, var(--tw-bg-opacity));\n  --tw-bg-opacity:0.4\n}\n\n.breadcrumbs span:hover{\n  --tw-bg-opacity:0.6\n}\n\n.breadcrumbs span{\n  padding:0.5rem;\n  padding-top:0.25rem;\n  padding-bottom:0.25rem;\n  font-size:0.875rem;\n  line-height:1.25rem;\n  font-weight:400;\n  --tw-text-opacity:1;\n  color:rgba(107, 114, 128, var(--tw-text-opacity))\n}\n\n.breadcrumbs span.active{\n  font-weight:400;\n  font-weight:500;\n  --tw-text-opacity:1;\n  color:rgba(209, 213, 219, var(--tw-text-opacity));\n  --tw-text-opacity:1;\n  color:rgba(219, 39, 119, var(--tw-text-opacity));\n  text-decoration:none\n}\n\n.sidebar{\n  background-color:#f9f9f9\n}\n\n.nav{\n  transition-property:background-color, border-color, color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;\n  transition-property:background-color, border-color, color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;\n  transition-property:background-color, border-color, color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;\n  transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration:150ms;\n  border-left-width:6px\n}\n\n.nav:hover{\n  --tw-blur:var(--tw-empty,/*!*/ /*!*/);\n  --tw-brightness:var(--tw-empty,/*!*/ /*!*/);\n  --tw-contrast:var(--tw-empty,/*!*/ /*!*/);\n  --tw-grayscale:var(--tw-empty,/*!*/ /*!*/);\n  --tw-hue-rotate:var(--tw-empty,/*!*/ /*!*/);\n  --tw-invert:var(--tw-empty,/*!*/ /*!*/);\n  --tw-saturate:var(--tw-empty,/*!*/ /*!*/);\n  --tw-sepia:var(--tw-empty,/*!*/ /*!*/);\n  --tw-drop-shadow:var(--tw-empty,/*!*/ /*!*/);\n  filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\n  --tw-drop-shadow:drop-shadow(0 1px 1px rgba(0,0,0,0.05));\n  background-color:#f0f1f3\n}\n\n.nav.active{\n  --tw-border-opacity:1;\n  border-color:rgba(219, 39, 119, var(--tw-border-opacity));\n  --tw-blur:var(--tw-empty,/*!*/ /*!*/);\n  --tw-brightness:var(--tw-empty,/*!*/ /*!*/);\n  --tw-contrast:var(--tw-empty,/*!*/ /*!*/);\n  --tw-grayscale:var(--tw-empty,/*!*/ /*!*/);\n  --tw-hue-rotate:var(--tw-empty,/*!*/ /*!*/);\n  --tw-invert:var(--tw-empty,/*!*/ /*!*/);\n  --tw-saturate:var(--tw-empty,/*!*/ /*!*/);\n  --tw-sepia:var(--tw-empty,/*!*/ /*!*/);\n  --tw-drop-shadow:var(--tw-empty,/*!*/ /*!*/);\n  filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\n  --tw-drop-shadow:drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1)) drop-shadow(0 1px 1px rgba(0, 0, 0, 0.06));\n  border-left-width:6px;\n  background-color:#f9fafb\n}\n\n.page-leave-active{\n  transition-property:all;\n  transition-timing-function:ease-in-out;\n  transition-duration:50ms\n}\n\n.page-leave-to{\n  opacity:1\n}\n\n.page-enter-active{\n  transition-property:all;\n  transition-timing-function:ease-in-out;\n  transition-duration:.2s\n}\n\n.page-enter{\n  transform:translateX(100%);\n  opacity:.7\n}\n\n/*purgecss end ignore*/',""]),r.locals={},t.exports=r},239:function(t,e,n){"use strict";n(174)},240:function(t,e,n){var r=n(57)((function(i){return i[1]}));r.push([t.i,"/*purgecss start ignore*/\n.description-text p{\n  margin:15px 0\n}\n\n/*purgecss end ignore*/",""]),r.locals={},t.exports=r},243:function(t,e,n){"use strict";n(176)},244:function(t,e,n){var r=n(57)((function(i){return i[1]}));r.push([t.i,"/*purgecss start ignore*/\n.description-text p{\n  margin:15px 0\n}\n.readmore{\n  height:95px;\n  overflow:hidden\n}\n.readmore.active{\n  height:auto;\n  overflow:visible\n}\n\n/*purgecss end ignore*/",""]),r.locals={},t.exports=r},248:function(t,e,n){"use strict";n(179)},249:function(t,e,n){var r=n(57)((function(i){return i[1]}));r.push([t.i,"/*purgecss start ignore*/\n.playback-slider{\n  z-index:10;\n  height:0.75rem;\n  background-color:transparent;\n  -webkit-appearance:none;\n  width:100%;\n  outline:none;\n  transition:opacity .2s\n}\n.playback-slider::-webkit-slider-thumb{\n  height:0.75rem;\n  width:0.75rem;\n  --tw-bg-opacity:1;\n  background-color:rgba(219, 39, 119, var(--tw-bg-opacity));\n  -webkit-appearance:none;\n  appearance:none;\n  border-radius:50%;\n  cursor:pointer\n}\n.playback-slider::-moz-range-thumb{\n  height:0.75rem;\n  width:0.75rem;\n  --tw-bg-opacity:1;\n  background-color:rgba(219, 39, 119, var(--tw-bg-opacity));\n  width:10px;\n  height:10px;\n  border-radius:50%;\n  cursor:pointer\n}\n\n/*purgecss end ignore*/",""]),r.locals={},t.exports=r},250:function(t,e,n){"use strict";n.r(e);var r=n(133),o=n(134),l=n(135),c=n(136);e.default={namespaced:!0,state:r.default,getters:o,mutations:l,actions:c}},295:function(t,e,n){"use strict";n.r(e);n(34),n(97);var r={name:"Header",props:[],components:{},data:function(){return{}},computed:{group:function(){return this.$store.state.app.group},search:{get:function(){return this.$store.state.app.search},set:function(t){this.$store.commit("app/search",t)}},menu:{get:function(){return this.$store.state.app.menu},set:function(t){this.$store.commit("app/menu",t)}},searchterm:{get:function(){return this.$store.state.app.searchterm},set:function(t){this.$store.commit("app/searchterm",t)}}}},o=n(9),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex flex-col items-top h-screen w-full"},[n("div",{staticClass:"flex items-center w-full h-20 lg:h-24 border-b border-gray-300 lg:border-b-0 relative"},[n("div",{staticClass:"lg:w-80 flex-shrink-0 flex-grow-0 lg:border-r lg:border-b border-gray-300 p-3 px-6 lg:px-8 h-20 lg:h-24 flex items-center"},[n("NuxtLink",{staticClass:"flex items-center",attrs:{to:"/"}},[n("svg",{staticClass:"w-16 lg:w-18 mr-4 transform rotate-180",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"299.2254999999999 397.8038000000001 401.5409999999997 315.357"}},[n("path",{attrs:{d:"M681.4395 530.5928c-7.576-21.18-23.963-33.328-44.96-33.328h-18.151v112.545h18.151c21.275 0 37.716-11.724 45.097-32.154 2.644-7.197 4.042-15.312 4.042-23.47 0-7.84-1.446-16-4.179-23.593m-75.959 135.162c-7.915 8.056-19.048 12.674-30.542 12.674h-149.887c-11.521 0-22.373-4.506-30.57-12.702-8.054-7.915-12.673-19.05-12.673-30.544v-10.081h-20.884v6.767c0 16.855 4.4 31.759 12.705 43.07 8.861 12.406 22.551 20.08 39.548 22.186 3.465.494 7.073.744 10.721.744h152.193c3.651 0 7.258-.25 10.676-.739 17.198-2.114 30.564-9.575 39.732-22.182 8.075-11.192 12.386-25.775 12.538-42.2v-7.646h-20.709v10.081c0 11.407-4.672 22.539-12.848 30.572m-2.589-105.796h-34.725c-3.014 0-5.535-1.517-6.994-4.303l-13.465-22.148-22.213 54.207c-.713 2.139-2.207 3.759-4.265 4.582-.946.405-1.942.61-2.963.61-3.04 0-5.763-1.822-6.945-4.661l-22.973-53.708-24.537 72.2c-.056.167-.113.305-.168.443-.089.222-.177.444-.268.713-.149.449-.573.983-.948 1.456-1.04 1.171-2.14 1.955-3.269 2.33-.882.293-1.788.444-2.695.444-1.081 0-2.116-.217-2.937-.599-.734-.368-1.369-.685-1.814-1.128l-.107-.108-.121-.092c-.841-.657-1.648-1.84-2.224-3.214l-16.72-47.024h-35.441v75.224c0 7.33 2.992 14.526 8.21 19.743 5.219 5.219 12.415 8.21 19.742 8.21h149.887c7.437 0 14.448-2.915 19.744-8.21 5.217-5.217 8.209-12.413 8.209-19.743zm0-74.664c0-7.436-2.915-14.447-8.209-19.74-5.293-5.296-12.305-8.211-19.744-8.211h-39.921c-1.392 0-2.963-.491-4.376-1.388l-66.669-37.071v30.812c0 4.217-3.43 7.647-7.646 7.647h-31.275c-7.33 0-14.527 2.994-19.742 8.211-5.294 5.293-8.21 12.304-8.21 19.74v59.371h40.923c3.481 0 6.413 2.226 7.358 5.735l11.015 30.656 23.847-70.429c1.131-3.13 4.093-5.234 7.373-5.234.81 0 1.618.129 2.349.365 2.055.721 3.794 2.395 4.758 4.561l23.484 55.12 20.858-51.268c.56-1.679 1.688-3.065 3.272-4.014 1.217-.739 2.606-1.128 4.014-1.128 2.677 0 5.094 1.352 6.473 3.628l19.595 32.008h30.473zm-221.083 11.97h-18.153c-20.777 0-37.639 12.459-45.103 33.323-2.639 7.333-4.034 15.493-4.034 23.598 0 8.537 1.31 16.435 3.892 23.457 7.386 20.443 23.878 32.167 45.245 32.167h18.153zm314.203 85.493c-7.253 20.099-21.476 34.198-40.049 39.706l-1.604.476v8.929c0 20.138-5.369 38.127-15.537 52.044-11.508 15.991-28.816 25.811-50.081 28.404-4.197.561-8.452.844-12.649.844h-152.193c-4.196 0-8.45-.283-12.673-.846-21.387-2.624-38.231-12.184-50.065-28.417-10.158-13.902-15.527-31.891-15.527-52.029v-8.973l-1.465-.432c-18.724-5.515-32.942-19.61-40.054-39.735-3.244-8.649-4.889-18.252-4.889-28.543 0-9.727 1.696-19.662 4.9-28.717 9.951-27.644 31.649-43.496 59.53-43.496h18.15l.271-2.135c1.207-9.522 5.612-18.43 12.419-25.099 8.183-8.181 19.035-12.687 30.556-12.687h23.774l-.006-36.062c-.112-1.572.223-3.077.965-4.35 1.413-2.402 3.883-3.836 6.609-3.836 1.354 0 2.688.375 3.876 1.095l76.816 43.153h37.853c11.494 0 22.627 4.618 30.575 12.706 6.79 6.65 11.196 15.558 12.401 25.08l.27 2.135h18.295c27.789 0 49.435 15.852 59.382 43.484 3.209 9.065 4.905 18.999 4.905 28.765.138 9.627-1.508 19.496-4.755 28.536",fill:"#db2777"}})]),t._v(" "),n("div",{staticClass:"flex flex-col"},[n("div",{staticClass:"font-semibold text-lg uppercase text-pink-600 leading-none"},[t._v("\n            Audio"),n("span",{staticClass:"font-bold text-gray-600"},[t._v("Serve")])]),t._v(" "),n("div",{staticClass:"leading-none text-xs font-normal text-gray-500"},[t._v("\n            "+t._s(t.group)+"\n          ")])])])],1),t._v(" "),n("div",{staticClass:"px-0 lg:px-12 w-full items-center",class:{mobilesearch:t.search,flex:t.search}},[n("floating-label-input",{class:{block:t.search,hidden:!t.search},attrs:{title:"Search..."},model:{value:t.searchterm,callback:function(e){t.searchterm=e},expression:"searchterm"}}),t._v(" "),n("div",{staticClass:"ml-3"},[n("div",{staticClass:"rounded-full bg-gray-300 w-8 h-8 justify-center items-center",class:{flex:t.search,hidden:!t.search},on:{click:function(e){t.search=!1}}},[n("i",{staticClass:"fa-thin fa-times fa-fw"})])]),t._v(" "),n("div",{staticClass:"flex lg:hidden justify-end text-lg mr-1",class:{hidden:t.search}},[n("div",{staticClass:"bg-gray-200 rounded w-10 h-10 flex justify-center items-center mx-1",on:{click:function(e){t.search=!0}}},[n("i",{staticClass:"fa-light fa-magnifying-glass"})]),t._v(" "),n("div",{staticClass:"bg-gray-200 rounded w-10 h-10 flex justify-center items-center mx-1",on:{click:function(e){t.menu=!t.menu}}},[n("i",{staticClass:"fa-light fa-bars"})])])],1)])])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{FloatingLabelInput:n(101).default})},296:function(t,e,n){"use strict";n.r(e);var r={name:"Nav",props:[],computed:{group:function(){return this.$store.state.app.group},collections:function(){return this.$store.state.app.collections},menu:function(){return this.$store.state.app.menu},activepage:function(){return this.$store.state.app.activepage}},methods:{logout:function(){this.$store.commit("app/loginStatus",!1)}}},o=n(9),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"transition-all z-40 bg-gray-200 flex-shrink-0 flex-grow-0 w-screen transform lg:translate-x-0 lg:w-80 p-8 px-6 h-(screen-80) lg:h-(screen-96) border-r border-gray-300 absolute inset-0 lg:relative",class:{"-translate-x-full":!t.menu,"translate-x-0":t.menu}},[t.collections.length>1?n("div",{staticClass:"relative border border-gray-100 rounded-2xl appearance-none -mt-8 -mx-6 max-w-xl flex-grow"},[n("select",{staticClass:"w-full py-1 px-10 bg-gray-200 text-sm leading-normal max-w-xl",domProps:{value:t.currentCollection},on:{change:t.changeCollection}},t._l(t.collections,(function(option,e){return n("option",{key:e,domProps:{value:e}},[t._v("\n        "+t._s(option)+"\n      ")])})),0)]):t._e(),t._v(" "),n("NuxtLink",{staticClass:"flex items-center my-2 p-3 px-5 rounded-lg nav",class:{active:"library"===t.activepage},attrs:{to:"/"}},[n("i",{staticClass:"fa-light fa-rectangle-vertical-history mr-2 fa-lg"}),t._v("\n    Library\n  ")]),t._v(" "),n("NuxtLink",{staticClass:"flex items-center my-2 p-3 px-5 rounded-lg nav",class:{active:"settings"===t.activepage},attrs:{to:"/settings"}},[n("i",{staticClass:"fa-light fa-gear mr-2 fa-lg"}),t._v("\n    Settings\n  ")]),t._v(" "),n("NuxtLink",{staticClass:"flex items-center my-2 p-3 px-5 rounded-lg nav",class:{active:"cached"===t.activepage},attrs:{to:"/cached"}},[n("i",{staticClass:"fa-light fa-box-archive mr-2 fa-lg"}),t._v("\n    Cached\n  ")]),t._v(" "),n("div",{staticClass:"flex cursor-pointer absolute bottom-0 left-0 border-t border-gray-300 w-full items-center p-5 px-10",on:{click:t.logout}},[n("i",{staticClass:"fa-light fa-right-from-bracket mr-2 fa-lg"}),t._v("\n    Logout\n  ")])],1)}),[],!1,null,null,null);e.default=component.exports},297:function(t,e,n){"use strict";n.r(e);var r={name:"Login",props:[],components:{FloatingLabelInput:n(101).default},data:function(){return{}},computed:{loginStatus:function(){return this.$store.state.app.loginStatus},server:{get:function(){return this.$store.state.app.server},set:function(t){this.$store.commit("app/server",t)}},group:{get:function(){return this.$store.state.app.group},set:function(t){this.$store.commit("app/group",t)}},secret:{get:function(){return this.$store.state.app.secret},set:function(t){this.$store.commit("app/secret",t)}}},methods:{login:function(){this.$store.dispatch("app/login",{server:this.server,group:this.group,secret:this.secret})}}},o=n(9),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return!1===t.loginStatus?n("div",{staticClass:"fixed inset-0 bg-gray-900 bg-opacity-75 z-50 flex justify-center items-center"},[n("div",{staticClass:"rounded-lg flex bg-gray-100 flex-col p-8 w-full max-w-md m-4"},[n("div",{staticClass:"flex justify-center mb-5"},[n("NuxtLink",{staticClass:"flex items-center",attrs:{to:"/"}},[n("svg",{staticClass:"w-20 mr-3 transform rotate-180",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"299.2254999999999 397.8038000000001 401.5409999999997 315.357"}},[n("path",{attrs:{d:"M681.4395 530.5928c-7.576-21.18-23.963-33.328-44.96-33.328h-18.151v112.545h18.151c21.275 0 37.716-11.724 45.097-32.154 2.644-7.197 4.042-15.312 4.042-23.47 0-7.84-1.446-16-4.179-23.593m-75.959 135.162c-7.915 8.056-19.048 12.674-30.542 12.674h-149.887c-11.521 0-22.373-4.506-30.57-12.702-8.054-7.915-12.673-19.05-12.673-30.544v-10.081h-20.884v6.767c0 16.855 4.4 31.759 12.705 43.07 8.861 12.406 22.551 20.08 39.548 22.186 3.465.494 7.073.744 10.721.744h152.193c3.651 0 7.258-.25 10.676-.739 17.198-2.114 30.564-9.575 39.732-22.182 8.075-11.192 12.386-25.775 12.538-42.2v-7.646h-20.709v10.081c0 11.407-4.672 22.539-12.848 30.572m-2.589-105.796h-34.725c-3.014 0-5.535-1.517-6.994-4.303l-13.465-22.148-22.213 54.207c-.713 2.139-2.207 3.759-4.265 4.582-.946.405-1.942.61-2.963.61-3.04 0-5.763-1.822-6.945-4.661l-22.973-53.708-24.537 72.2c-.056.167-.113.305-.168.443-.089.222-.177.444-.268.713-.149.449-.573.983-.948 1.456-1.04 1.171-2.14 1.955-3.269 2.33-.882.293-1.788.444-2.695.444-1.081 0-2.116-.217-2.937-.599-.734-.368-1.369-.685-1.814-1.128l-.107-.108-.121-.092c-.841-.657-1.648-1.84-2.224-3.214l-16.72-47.024h-35.441v75.224c0 7.33 2.992 14.526 8.21 19.743 5.219 5.219 12.415 8.21 19.742 8.21h149.887c7.437 0 14.448-2.915 19.744-8.21 5.217-5.217 8.209-12.413 8.209-19.743zm0-74.664c0-7.436-2.915-14.447-8.209-19.74-5.293-5.296-12.305-8.211-19.744-8.211h-39.921c-1.392 0-2.963-.491-4.376-1.388l-66.669-37.071v30.812c0 4.217-3.43 7.647-7.646 7.647h-31.275c-7.33 0-14.527 2.994-19.742 8.211-5.294 5.293-8.21 12.304-8.21 19.74v59.371h40.923c3.481 0 6.413 2.226 7.358 5.735l11.015 30.656 23.847-70.429c1.131-3.13 4.093-5.234 7.373-5.234.81 0 1.618.129 2.349.365 2.055.721 3.794 2.395 4.758 4.561l23.484 55.12 20.858-51.268c.56-1.679 1.688-3.065 3.272-4.014 1.217-.739 2.606-1.128 4.014-1.128 2.677 0 5.094 1.352 6.473 3.628l19.595 32.008h30.473zm-221.083 11.97h-18.153c-20.777 0-37.639 12.459-45.103 33.323-2.639 7.333-4.034 15.493-4.034 23.598 0 8.537 1.31 16.435 3.892 23.457 7.386 20.443 23.878 32.167 45.245 32.167h18.153zm314.203 85.493c-7.253 20.099-21.476 34.198-40.049 39.706l-1.604.476v8.929c0 20.138-5.369 38.127-15.537 52.044-11.508 15.991-28.816 25.811-50.081 28.404-4.197.561-8.452.844-12.649.844h-152.193c-4.196 0-8.45-.283-12.673-.846-21.387-2.624-38.231-12.184-50.065-28.417-10.158-13.902-15.527-31.891-15.527-52.029v-8.973l-1.465-.432c-18.724-5.515-32.942-19.61-40.054-39.735-3.244-8.649-4.889-18.252-4.889-28.543 0-9.727 1.696-19.662 4.9-28.717 9.951-27.644 31.649-43.496 59.53-43.496h18.15l.271-2.135c1.207-9.522 5.612-18.43 12.419-25.099 8.183-8.181 19.035-12.687 30.556-12.687h23.774l-.006-36.062c-.112-1.572.223-3.077.965-4.35 1.413-2.402 3.883-3.836 6.609-3.836 1.354 0 2.688.375 3.876 1.095l76.816 43.153h37.853c11.494 0 22.627 4.618 30.575 12.706 6.79 6.65 11.196 15.558 12.401 25.08l.27 2.135h18.295c27.789 0 49.435 15.852 59.382 43.484 3.209 9.065 4.905 18.999 4.905 28.765.138 9.627-1.508 19.496-4.755 28.536",fill:"#db2777"}})]),t._v(" "),n("div",{staticClass:"flex flex-col"},[n("div",{staticClass:"font-semibold uppercase text-pink-600 text-2xl leading-none"},[t._v("\n            Audio"),n("span",{staticClass:"font-bold text-gray-600"},[t._v("Serve")])])])])],1),t._v(" "),n("floating-label-input",{staticClass:"my-2",attrs:{title:"Server"},model:{value:t.server,callback:function(e){t.server=e},expression:"server"}}),t._v(" "),n("floating-label-input",{staticClass:"my-2",attrs:{title:"Shared Secret"},model:{value:t.secret,callback:function(e){t.secret=e},expression:"secret"}}),t._v(" "),n("floating-label-input",{staticClass:"my-2",attrs:{title:"Group"},model:{value:t.group,callback:function(e){t.group=e},expression:"group"}}),t._v(" "),n("button",{staticClass:"bg-pink-600 text-white w-full mt-3 p-3 rounded-xl text-lg",on:{click:t.login}},[t._v("\n      Login\n    ")])],1)]):t._e()}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{FloatingLabelInput:n(101).default})},298:function(t,e,n){"use strict";n.r(e);var r=n(2),o=(n(29),n(21),n(32),n(14),n(20),n(25),n(99),n(42)),l=n.n(o),c={name:"FolderDetails",props:["details","name","server"],data:function(){return{image:null}},computed:{description:function(){return this.$store.state.app.folderDescription}},watch:{details:function(t,e){console.log(t),console.log(e),t!==e&&t.description&&(console.log("update description"),this.$store.dispatch("app/getFolderDescription",this.details.description.path)),t.image||t.description?this.$store.commit("app/rightbar",!0):this.$store.commit("app/rightbar",!1),this.image=null,this.getImage()}},mounted:function(){(this.image||this.description)&&(this.$store.commit("app/rightbar",!0),this.getImage())},methods:{getImage:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.details||!t.details.cover){e.next=10;break}return n=t.$store.getters["app/getServerUrl"]+"cover/"+t.details.cover.path,e.next=4,fetch(n,{headers:{Authorization:"Bearer "+l.a.get("audioserve_token")}});case 4:return r=e.sent,e.next=7,r.blob();case 7:o=e.sent,c=URL.createObjectURL(o),t.image=c;case 10:case"end":return e.stop()}}),e)})))()}}},f=(n(239),n(9)),component=Object(f.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex flex-col overflow-auto"},[n("div",{staticClass:"text p-8 pb-5 flex flex-col justify-center"},[n("img",{staticClass:"block shadow rounded-md",attrs:{src:t.image}})]),t._v(" "),n("div",{staticClass:"text-xl flex justify-center px-8 font-bold"},[t._v(t._s(t.name))]),t._v(" "),n("div",{staticClass:"text px-8 description-text text-sm prose",domProps:{innerHTML:t._s(t.description)}})])}),[],!1,null,null,null);e.default=component.exports},299:function(t,e,n){"use strict";n.r(e);var r=n(2),o=(n(29),n(21),n(32),n(33),n(175),n(14),n(25),n(20),n(99),n(56),n(59)),l=n(42),c=n.n(l),f={name:"BookDetails",props:["details","name","server"],data:function(){return{readmore:!1,cached:!1,downloading:!1,image:null}},computed:{moretext:function(){return this.readmore?"Less..":"More.."},description:function(){return this.$store.state.app.book.description},transcode:function(){return this.$store.state.app.transcode},seek:function(){return this.$store.state.app.book.seek},hash:function(){return Object(o.sha256)(this.$route.fullPath)},totalTime:function(){var t=0;return this.details.files.forEach((function(e){t+=e.meta.duration})),t},remaining:function(){var t=this.totalTime-this.seek;return this.$formatToTime(t,2,!1)+" remaining"},percent:function(){var t=(this.totalTime-this.seek)/this.totalTime*100;return 100-t.toFixed(0)}},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$store.commit("app/rightbar",!0),e.next=3,caches.keys();case 3:n=e.sent,console.log("keys"),console.log(n),t.getImage(),t.$store.dispatch("app/getBookDetails",Object(o.sha256)(t.$route.fullPath));case 8:case"end":return e.stop()}}),e)})))()},methods:{listen:function(){this.$store.commit("app/player",!0)},getImage:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.details||!t.details.cover){e.next=10;break}return n=t.$store.getters["app/getServerUrl"]+"cover/"+t.details.cover.path,e.next=4,fetch(n,{headers:{Authorization:"Bearer "+c.a.get("audioserve_token")}});case 4:return r=e.sent,e.next=7,r.blob();case 7:o=e.sent,l=URL.createObjectURL(o),t.image=l;case 10:case"end":return e.stop()}}),e)})))()},download:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("download"),t.downloading=!0,e.next=4,navigator.storage.persist();case 4:return n=e.sent,console.log("Persisted storage granted: ".concat(n)),r="audioserv-".concat(t.hash),e.next=9,caches.delete(r);case 9:return e.next=11,caches.open(r);case 11:return o=e.sent,e.next=14,Promise.all(t.details.files.map((function(e){return o.add(t.$store.getters["app/getServerUrl"]+"audio/"+e.path+"?trans=0")})));case 14:t.downloading=!1,t.cached=!0,console.log("files cached "+r);case 17:case"end":return e.stop()}}),e)})))()}}},d=(n(243),n(9)),component=Object(d.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex flex-col overflow-auto pb-8"},[n("div",{staticClass:"text p-8 pb-5 px-12 flex flex-col justify-center"},[n("img",{staticClass:"block shadow rounded-md",attrs:{src:t.image}})]),t._v(" "),n("div",{staticClass:"text-xl flex justify-center px-8 font-bold"},[t._v(t._s(t.name))]),t._v(" "),n("button",{staticClass:"text-white bg-pink-600 font-normal rounded-lg mx-8 my-4 p-3",on:{click:t.listen}},[n("i",{staticClass:"fa-light fa-circle-play"}),t._v(" Listen")]),t._v(" "),t.description?[n("div",{staticClass:"text px-8 description-text text-sm readmore",class:{active:t.readmore},domProps:{innerHTML:t._s(t.description)}}),t._v(" "),n("div",{staticClass:"px-8 text-pink-600 font-normal text-sm cursor-pointer",on:{click:function(e){t.readmore=!t.readmore}}},[t._v(t._s(t.moretext))])]:t._e(),t._v(" "),n("div",{staticClass:"px-8 mt-3 font-normal text-sm"},[t._v("Progress")]),t._v(" "),n("div",{staticClass:"flex px-8 pt-1 items-center"},[n("div",{staticClass:"relative flex-grow mr-2"},[n("div",{staticClass:"overflow-hidden h-1 text-xs flex rounded bg-gray-300"},[n("div",{staticClass:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-pink-600",style:{width:t.percent+"%"}})])]),t._v(" "),n("div",{staticClass:"text-sm"},[t._v(t._s(t.percent)+"%")])]),t._v(" "),n("div",{staticClass:"px-8 text-xs"},[t._v(t._s(t.remaining))]),t._v(" "),n("div",{staticClass:"px-8 pt-8"},[n("div",{staticClass:"cursor-pointer relative"},[n("span",{directives:[{name:"show",rawName:"v-show",value:!t.cached&&!t.downloading,expression:"!cached && !downloading"}],staticClass:"fa-layers fa-fw fa-2x",on:{click:t.download}},[n("i",{staticClass:"fa-solid fa-circle text-gray-600"}),t._v(" "),n("i",{staticClass:"fa-inverse fa-light fa-arrow-down-to-line",attrs:{"data-fa-transform":"shrink-8"}})]),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.downloading,expression:"downloading"}],staticClass:"fa-layers fa-fw fa-2x"},[n("i",{staticClass:"fa-solid fa-circle text-gray-600"}),t._v(" "),n("i",{staticClass:"fa-inverse fa-thin fa-down-to-line fa-beat",attrs:{"data-fa-transform":"shrink-8"}})]),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.cached,expression:"cached"}],staticClass:"fa-layers fa-fw fa-2x"},[n("i",{staticClass:"fa-solid fa-circle text-gray-600"}),t._v(" "),n("i",{staticClass:"fa-inverse fa-thin fa-trash-can",attrs:{"data-fa-transform":"shrink-8"}})]),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.downloading,expression:"downloading"}],staticClass:"fa-layers fa-fw fa-2x absolute inset-0 opacity-70"},[n("i",{staticClass:"fa-solid fa-circle text-gray-600"}),t._v(" "),n("i",{staticClass:"fa-inverse fa-light fa-spinner-third fa-spin",attrs:{"data-fa-transform":"shrink-2"}})])])])],2)}),[],!1,null,null,null);e.default=component.exports},300:function(t,e,n){"use strict";n.r(e);var r=n(2),o=(n(29),n(175),n(245),n(247),n(33),n(79),n(34),n(59)),l=n(189),c={name:"Player",props:["details","server"],data:function(){return{editPlaybackSpeed:!1,player:null,playing:!1,loading:!1,localremaining:0,current:0,currentFile:{index:0,start:0,duration:0,path:""}}},computed:{image:function(){return this.$store.state.app.book.cover},groupDetails:function(){return this.$store.state.app.groupDetails},playbackSpeed:function(){return Number.parseFloat(this.groupDetails.playback_speed).toFixed(2)},transcode:function(){return this.$store.state.app.transcode},seek:function(){return this.$store.state.app.book.seek},hash:function(){return Object(o.sha256)(this.$route.fullPath)},totalTime:function(){var t=0;return this.details.files.forEach((function(e){t+=e.meta.duration})),t},remaining:function(){var t=this.totalTime-this.seek;return this.$formatToTime(t,2,!1)+" remaining"},percent:function(){var t=(this.totalTime-this.seek)/this.totalTime*100;return 100-t.toFixed(0)},localpercent:function(){return this.player?100-((this.currentFile.duration-this.current)/this.currentFile.duration*100).toFixed(0):0},localseek:function(){return(this.seek-this.currentFile.start).toFixed(0)},fileUrl:function(){return this.$store.getters["app/getServerUrl"]+"audio/"+this.currentFile.path+"?trans=0"}},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,t.currentFile=t.getCurrentFile(),e.next=4,t.loadFile(t.fileUrl);case 4:t.player=e.sent,t.updatePlayerDetails(),t.current=t.localseek;case 7:case"end":return e.stop()}}),e)})))()},beforeDestroy:function(){console.log("clean up"),this.player&&this.player.unload(),caches.delete(this.$store.state.app.cacheKey+"temp-"+this.hash)},methods:{updateSeek:function(t){console.log(t.target.value),this.player.playing()?(this.player.pause(),this.player.seek(t.target.value),this.player.play()):(this.player.seek(t.target.value),this.current=t.target.value)},nextFile:function(){return{index:this.currentFile.index+1,start:this.currentFile.start+this.currentFile.duration,duration:this.details.files[this.currentFile.index+1].meta.duration,path:this.details.files[this.currentFile.index+1].path}},prevFile:function(){return{index:this.currentFile.index-1,start:this.currentFile.start-this.currentFile.duration,duration:this.details.files[this.currentFile.index-1].meta.duration,path:this.details.files[this.currentFile.index-1].path}},loadFile:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var o,c,f,d,h,m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("Loading file"),console.log(e.currentFile),o=null,c=null,f={hash:e.hash,file:t},n.next=7,e.$store.dispatch("app/fileIsCached",f);case 7:if(!n.sent){n.next=16;break}return n.next=11,e.$store.dispatch("app/getCachedFile",f);case 11:d=n.sent,c=d.src,o=d.format,n.next=21;break;case 16:return n.next=18,e.$store.dispatch("app/tempCache",{hash:"temp-"+e.hash,file:t});case 18:h=n.sent,c=h.src,o=h.format;case 21:return m=e,n.abrupt("return",new l.Howl({src:c,format:o,html5:!0,onplay:function(){m.loading=!1,m.updatePlayerDetails()},onpause:function(){console.log("pause file");var t=m.player.seek();m.$store.dispatch("app/updateBookDetails",{hash:m.hash,book:{seek:m.fullseek(t)}}),m.playing=!1,console.log(m.current),console.log(m.player.seek()),console.log(t),setTimeout((function(){m.updatePlayerDetails(t)}),100)},onload:function(){m.loading=!1},onloaderror:function(t,e){console.log("load error"),console.log(t),console.log(e)},onend:function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("track ended"),m.player.unload(),m.player=null,t.next=5,m.nextTrack();case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}));case 23:case"end":return n.stop()}}),n)})))()},nextTrack:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.nextFile(),t.currentFile=n,e.next=4,t.loadFile(t.fileUrl);case 4:t.player=e.sent,t.player.play();case 6:case"end":return e.stop()}}),e)})))()},playTrack:function(t){return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},getCurrentFile:function(){for(var t=0,i=0,e=this.details.files.length;i<e;i++){if(console.log(t+this.details.files[i].meta.duration),console.log("seek: "+this.seek),t+this.details.files[i].meta.duration>this.seek)return{index:i,start:t,duration:this.details.files[i].meta.duration,path:this.details.files[i].path};t+=this.details.files[i].meta.duration}return{index:0,start:0,duration:0,path:""}},updatePlayerDetails:function(t){if(this.localremaining=this.getLocalRemaining(),this.current=t||this.getLocalSeek(),!0===this.playing){var e=this;window.requestAnimationFrame((function(){e.updatePlayerDetails()}))}},getLocalRemaining:function(){return this.playing?this.currentFile.duration-this.player.seek():this.currentFile.duration-this.localseek},getLocalSeek:function(){return this.playing?this.player.seek():this.localseek},fullseek:function(t){return this.currentFile.start+t},extension:function(t){return/(?:\.([^.]+))?$/.exec(t)[1]},closePlayer:function(){this.$store.commit("app/player",!1)},togglePlay:function(){this.playing?this.pause():this.play()},play:function(){this.loading=!0,this.current&&(this.player.seek(this.current),this.player.play()),this.playing=!0},pause:function(){this.player.pause()},updatePlaybackSpeed:function(t){this.$store.commit("app/playbackSpeed",t.target.value)},increasePlaybackSpeed:function(){var t=parseFloat(this.playbackSpeed)+parseFloat("0.05");this.$store.commit("app/playbackSpeed",t.toFixed(2)),this.player.rate(t.toFixed(2))},decreasePlaybackSpeed:function(){var t=parseFloat(this.playbackSpeed)-parseFloat("0.05");this.$store.commit("app/playbackSpeed",t.toFixed(2)),this.player.rate(t.toFixed(2))},seekForwards:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.player.pause(),n=t.player.seek()+parseInt(t.groupDetails.seekForwards),r=t.player.duration(),!(n>=r)){e.next=12;break}if(!(t.currentFile.index<t.details.files.length)){e.next=12;break}return n-=t.currentFile.duration,t.currentFile=t.nextFile(),e.next=9,t.loadFile(t.fileUrl);case 9:t.player=e.sent,e.next=12;break;case 12:console.log("> skipping to "+n+" from "+t.player.seek()),t.player.seek(n),t.player.play();case 15:case"end":return e.stop()}}),e)})))()},seekBackwards:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.player.pause()._sounds[0],r=n._seek,!((o=r-parseInt(t.groupDetails.seekBackwards))<=0)){e.next=13;break}if(!(t.currentFile.index>0)){e.next=12;break}return t.currentFile=t.prevFile(),o=t.currentFile.duration+o,e.next=9,t.loadFile(t.fileUrl);case 9:t.player=e.sent,e.next=13;break;case 12:o=0;case 13:console.log("< skipping to "+o+" from "+r),t.player.seek(o),t.player.play();case 16:case"end":return e.stop()}}),e)})))()}}},f=(n(248),n(9)),component=Object(f.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex flex-col justify-between relative bg-gray-100 h-screen overflow-auto"},[n("div",{staticClass:"absolute top-0 right-0 w-8 h-8 rounded-bl flex cursor-pointer justify-center items-center",on:{click:t.closePlayer}},[n("i",{staticClass:"fa-thin fa-chevron-down"})]),t._v(" "),n("div",[n("div",{staticClass:"text p-8 pb-5 pt-12 px-12 flex justify-center flex-shrink"},[n("img",{staticClass:"block shadow rounded-md",attrs:{src:t.image}})]),t._v(" "),n("div",{staticClass:"w-full px-8 flex flex-col text-center items-center"},[n("div",{staticClass:" font-semibold flex mb-2"},[t._v("Chapter 1")]),t._v(" "),n("div",{staticClass:"flex py-1 items-center w-full relative mb-1"},[n("div",{staticClass:"relative flex-grow mr-2"},[n("div",{staticClass:"overflow-hidden h-1 text-xs flex rounded bg-gray-300"},[n("div",{staticClass:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-pink-600",style:{width:t.localpercent+"%"}})])]),t._v(" "),n("input",{staticClass:"absolute playback-slider",attrs:{type:"range",min:"0",max:t.currentFile.duration},domProps:{value:t.current},on:{input:t.updateSeek}})]),t._v(" "),n("div",{staticClass:"flex w-full justify-between pointer-events-none"},[n("div",{staticClass:"text-xs"},[t._v(t._s(t.$formatToPlayback(t.current)))]),t._v(" "),n("div",{staticClass:"px-8 text-xs"},[t._v(t._s(t.remaining))]),t._v(" "),n("div",{staticClass:"text-xs"},[t._v("-"+t._s(t.$formatToPlayback(t.localremaining)))])])])]),t._v(" "),n("div",{staticClass:"flex items-center w-full justify-evenly my-2"},[n("div",{},[n("span",{staticClass:"fa-layers fa-fw fa-3x relative",on:{click:t.seekBackwards}},[n("i",{staticClass:"fa-thin fa-circle-notch fa-rotate-by",staticStyle:{"--fa-rotate-angle":"-23deg"}}),t._v(" "),n("i",{staticClass:"fa-solid fa-chevron-left",staticStyle:{"font-size":"12px"},attrs:{"data-fa-transform":"up-30"}}),t._v(" "),n("span",{staticClass:"text-sm absolute inset-0 flex justify-center items-center"},[t._v("30")])])]),t._v(" "),n("div",{staticClass:"cursor-pointer relative"},[n("span",{directives:[{name:"show",rawName:"v-show",value:!t.playing,expression:"!playing"}],staticClass:"fa-layers fa-fw fa-6x",on:{click:t.togglePlay}},[n("i",{staticClass:"fa-solid fa-circle text-gray-600"}),t._v(" "),n("i",{staticClass:"fa-inverse fa-solid fa-play",attrs:{"data-fa-transform":"shrink-10"}})]),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.playing,expression:"playing"}],staticClass:"fa-layers fa-fw fa-6x",on:{click:t.togglePlay}},[n("i",{staticClass:"fa-solid fa-circle text-gray-600"}),t._v(" "),n("i",{staticClass:"fa-inverse fa-solid fa-pause",attrs:{"data-fa-transform":"shrink-10"}})]),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"fa-layers fa-fw fa-6x absolute inset-0 opacity-70"},[n("i",{staticClass:"fa-solid fa-circle text-gray-600"}),t._v(" "),n("i",{staticClass:"fa-inverse fa-light fa-spinner-third fa-spin",attrs:{"data-fa-transform":"shrink-2"}})])]),t._v(" "),n("div",{},[n("span",{staticClass:"fa-layers fa-fw fa-3x relative",on:{click:t.seekForwards}},[n("i",{staticClass:"fa-thin fa-circle-notch fa-rotate-by",staticStyle:{"--fa-rotate-angle":"23deg"}}),t._v(" "),n("i",{staticClass:"fa-solid fa-chevron-right",staticStyle:{"font-size":"12px"},attrs:{"data-fa-transform":"up-30"}}),t._v(" "),n("span",{staticClass:"text-sm absolute inset-0 flex justify-center items-center"},[t._v("45")])])])]),t._v(" "),n("div",{staticClass:"p-2 w-full"},[n("div",{staticClass:"bg-gray-200 rounded p-3 px-6 w-full relative flex justify-between"},[n("button",{staticClass:"cursor-pointer",on:{click:function(e){t.editPlaybackSpeed=!0}}},[t._v(t._s(t.playbackSpeed)+"x")]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t.editPlaybackSpeed?n("div",{staticClass:"absolute inset-0 flex bg-gray-200 rounded justify-between p-3 px-6"},[n("span",[t._v(t._s(t.playbackSpeed)+"x")]),t._v(" "),n("div",{staticClass:"flex items-center"},[n("div",{staticClass:"mx-3 cursor-pointer",on:{click:t.decreasePlaybackSpeed}},[n("i",{staticClass:"fa-solid fa-circle-minus text-gray-600 fa-lg"})]),t._v(" "),n("div",[n("input",{staticClass:"w-12 p-2 text-center",domProps:{value:t.playbackSpeed},on:{input:t.updatePlaybackSpeed}})]),t._v(" "),n("div",{staticClass:"mx-3 cursor-pointer",on:{click:t.increasePlaybackSpeed}},[n("i",{staticClass:"fa-solid fa-circle-plus text-gray-600 fa-lg"})])]),t._v(" "),n("div",{staticClass:"cursor-pointer",on:{click:function(e){t.editPlaybackSpeed=!1}}},[t._v("Close")])]):t._e()])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"cursor-pointer"},[e("i",{staticClass:"fa-light fa-alarm-snooze"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"cursor-pointer"},[e("i",{staticClass:"fa-light fa-airplay"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"cursor-pointer"},[e("i",{staticClass:"fa-light fa-sliders-up"})])}],!1,null,null,null);e.default=component.exports}},[[196,5,1,6]]]);