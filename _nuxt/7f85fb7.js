(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,r){"use strict";r.r(t);var n={name:"FloatingLabelInput",props:["value","title"],data:function(){return{}}},o=r(7),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"relative border border-gray-100 rounded-2xl appearance-none label-floating lg:block max-w-xl flex-grow"},[r("input",{staticClass:"w-full py-3 px-5 bg-gray-300 shadow-inner leading-normal rounded-2xl max-w-xl",attrs:{type:"text",placeholder:e.title},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}}),e._v(" "),r("label",{staticClass:"pointer-events-none select-none absolute block top-0 left-0 w-full px-5 py-3 leading-normal"},[e._v("\n    "+e._s(e.title)+"\n  ")])])}),[],!1,null,null,null);t.default=component.exports},136:function(e,t,r){"use strict";r.r(t),r.d(t,"totalTime",(function(){return n})),r.d(t,"getStart",(function(){return o}));r(21);function n(e){var t=0;return e.files.forEach((function(e){t+=e.meta.duration})),t}function o(e){return function(e){return e.reduce((function(a,b){return+a+ +b.meta.duration}),0)}}},137:function(e,t,r){"use strict";r.r(t),r.d(t,"resetPlayer",(function(){return o})),r.d(t,"player",(function(){return c})),r.d(t,"files",(function(){return l})),r.d(t,"currentFile",(function(){return f})),r.d(t,"playing",(function(){return d})),r.d(t,"loading",(function(){return h})),r.d(t,"current",(function(){return m}));var n=r(80);function o(e){Object.assign(e,n.default)}function c(e,data){e.player.src=data.src,e.player.currentTime=data.currentTime}function l(e,data){e.files=data}function f(e,data){e.currentFile=data}function d(e,data){e.playing=data}function h(e,data){e.loading=data}function m(e,data){e.current=data}},138:function(e,t,r){"use strict";r.r(t),r.d(t,"resetPlayer",(function(){return f})),r.d(t,"load",(function(){return d})),r.d(t,"loadCurrent",(function(){return m})),r.d(t,"getCurrentFile",(function(){return v})),r.d(t,"globalSeekToLocalSeek",(function(){return x})),r.d(t,"setGlobalSeek",(function(){return y}));r(37),r(19),r(36),r(48),r(21),r(49);var n=r(18),o=r(0);r(24),r(108);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function f(e){(0,e.commit)("resetPlayer")}function d(e,t){return h.apply(this,arguments)}function h(){return(h=Object(o.a)(regeneratorRuntime.mark((function e(t,data){var r,path,n,o,audio;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.commit("app/player",!0,{root:!0}),t.commit("playing",!1),r=l({},t.rootState.app.folder),data||(data=m(t)),path=t.rootGetters["app/getFileUrl"](data.file),n={hash:t.rootState.app.book.hash,file:path},e.next=8,t.dispatch("app/fileIsCached",n,{root:!0});case 8:if(!e.sent){e.next=14;break}return e.next=12,t.dispatch("app/getCachedFile",n,{root:!0});case 12:o=e.sent,path=o.src;case 14:audio={src:path,currentTime:data.seek.toFixed(2)},t.commit("player",audio),t.commit("files",r.files),t.commit("current",data.seek);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){var t=e.rootState.app.folder,r=e.rootState.app.book,data={};v(e,{files:t.files,seek:r.seek});var n=e.state.currentFile;return console.log(n),data.file=n.path,data.seek=x(e,{global:r.seek,local:n.start}),data}function v(e,data){console.log("getCurrentFile"),console.log(data);for(var t=0,i=0,r=data.files.length;i<r;i++){if(console.log(t+data.files[i].meta.duration),console.log("seek: "+data.seek),t+data.files[i].meta.duration>data.seek)return e.commit("currentFile",{index:i,start:t,duration:data.files[i].meta.duration,path:data.files[i].path});t+=data.files[i].meta.duration}}function x(e,data){return data.global-data.local}function y(e){}},139:function(e,t,r){"use strict";r.r(t),t.default=function(){return{collections:[],currentCollection:0,cacheKey:"audioserve-",loginStatus:!1,loginsecret:null,server:null,folder:{cover:null,description:null,files:[],subfolders:[]},group:null,search:!1,searchterm:"",menu:!1,activepage:"library",groupDetails:{playback_speed:1,seekForwards:45,seekBackwards:30,active_books:[],finished_books:[],cached_books:[],transcode:"0"},book:{hash:null,name:null,author:null,description:null,cover:null,seek:0},folderDescription:"",secret:null,player:!1,transcode:"0",rightbar:!1}}},140:function(e,t,r){"use strict";r.r(t),r.d(t,"getServerUrl",(function(){return o})),r.d(t,"getFileUrl",(function(){return c})),r.d(t,"hash",(function(){return l}));var n=r(102);function o(e){var t=e.server;return e.currentCollection>0&&(t=e.server+e.currentCollection+"/"),t}function c(e){return function(t){return o(e)+"audio/"+t+"?trans="+e.groupDetails.transcode}}function l(e){return function(e){return Object(n.sha256)(e)}}},141:function(e,t,r){"use strict";r.r(t),r.d(t,"loginsecret",(function(){return c})),r.d(t,"rightbar",(function(){return l})),r.d(t,"player",(function(){return f})),r.d(t,"groupDetails",(function(){return d})),r.d(t,"playbackSpeed",(function(){return h})),r.d(t,"book",(function(){return m})),r.d(t,"folder",(function(){return v})),r.d(t,"description",(function(){return x})),r.d(t,"cover",(function(){return y})),r.d(t,"folderDescription",(function(){return w})),r.d(t,"loginStatus",(function(){return k})),r.d(t,"server",(function(){return C})),r.d(t,"secret",(function(){return _})),r.d(t,"group",(function(){return j})),r.d(t,"collections",(function(){return O})),r.d(t,"currentCollection",(function(){return $})),r.d(t,"search",(function(){return S})),r.d(t,"searchterm",(function(){return F})),r.d(t,"menu",(function(){return menu})),r.d(t,"activepage",(function(){return R})),r.d(t,"clearCachedBooks",(function(){return P})),r.d(t,"addCachedBook",(function(){return D}));r(37),r(36),r(48),r(21),r(49);var n=r(18);r(19),r(35),r(31),r(98);function o(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function c(e,data){e.loginsecret=data}function l(e,data){e.rightbar=data}function f(e,data){e.player=data}function d(e,data){e.groupDetails=data}function h(e,data){e.groupDetails.playback_speed=data}function m(e,data){e.book=data}function v(e,data){e.folder=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},data)}function x(e,data){e.book.description=data}function y(e,data){e.book.cover=data}function w(e,data){e.folderDescription=data}function k(e,data){e.loginStatus=data}function C(e,data){e.server=data}function _(e,data){e.secret=data}function j(e,data){e.group=data}function O(e,data){e.collections=data}function $(e,data){e.currentCollection=data}function S(e,data){e.search=data}function F(e,data){e.searchterm=data}function menu(e,data){e.menu=data}function R(e,data){e.activepage=data}function P(e){e.groupDetails.cached_books=[]}function D(e,t){e.groupDetails.cached_books.push(t)}},142:function(e,t,r){"use strict";r.r(t),r.d(t,"setDetails",(function(){return j})),r.d(t,"getGroupDetails",(function(){return O})),r.d(t,"setGroupDetails",(function(){return S})),r.d(t,"login",(function(){return F})),r.d(t,"selectFolder",(function(){return R})),r.d(t,"fetchFolder",(function(){return P})),r.d(t,"fileList",(function(){return z})),r.d(t,"fetchCollections",(function(){return I})),r.d(t,"getFolderDescription",(function(){return E})),r.d(t,"getBookDetails",(function(){return A})),r.d(t,"resetBook",(function(){return M})),r.d(t,"updateBookDetails",(function(){return H})),r.d(t,"setBookDetails",(function(){return K})),r.d(t,"getDescription",(function(){return V})),r.d(t,"fileIsCached",(function(){return Y})),r.d(t,"cachedBooks",(function(){return W})),r.d(t,"contentToExtension",(function(){return ee})),r.d(t,"getCachedFile",(function(){return te})),r.d(t,"cacheFile",(function(){return ne})),r.d(t,"tempCache",(function(){return oe})),r.d(t,"initialiseApp",(function(){return se}));r(37),r(36),r(48),r(49),r(42),r(39),r(50),r(51);var n=r(18),o=r(0),c=(r(24),r(257),r(15),r(259),r(265),r(267),r(268),r(269),r(272),r(273),r(274),r(275),r(276),r(277),r(278),r(279),r(281),r(282),r(283),r(284),r(285),r(286),r(287),r(288),r(293),r(294),r(295),r(21),r(19),r(35),r(31),r(79),r(176),r(28),r(65),r(23),r(100),r(194)),l=r.n(c),f=r(102),d=r(146),h=r.n(d),m=r(41),v=r.n(m),x=r(16),y=r.n(x);function w(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw o}}}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function C(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?C(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):C(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function j(e,data){console.log("set details"),y.a.setItem("server",data.server),y.a.setItem("group",data.group),y.a.setItem("loginStatus",data.loginStatus),y.a.setItem("collections",data.collections),y.a.setItem("currentCollection",data.currentCollection)}function O(e){return $.apply(this,arguments)}function $(){return($=Object(o.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.getItem("group-"+t.state.group);case 2:(r=e.sent)&&t.commit("groupDetails",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){y.a.setItem("group-"+e.state.group,e.state.groupDetails)}function F(e,data){var t=!1,r=null;if(data.secret){var n=new TextEncoder("utf-8").encode(data.secret),c=new Uint8Array(32);window.crypto.getRandomValues(c);var l=new Uint8Array(n.length+c.length);l.set(n),l.set(c,n.length),(window.crypto.subtle?window.crypto.subtle.digest("SHA-256",l):Promise.resolve(f.sha256.arrayBuffer(l))).then((function(s){var n=h.a.fromByteArray(c)+"|"+h.a.fromByteArray(new Uint8Array(s)),l="secret="+encodeURIComponent(n);fetch(data.server+"authenticate",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:l}).then(function(){var n=Object(o.a)(regeneratorRuntime.mark((function n(o){var c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.text();case 2:return r=n.sent,v.a.set("audioserve_token",r),t=!0,e.commit("loginStatus",t),n.next=8,I(e);case 8:c=n.sent,j(0,_(_({},data),{},{loginStatus:t,collections:c.names,currentCollection:0}));case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}))}else t=!0,r="noauth";e.commit("loginsecret",r),e.commit("loginStatus",t),j(0,_(_({},data),{},{loginStatus:t}))}function R(e,t){e.commit("folderDescription",""),e.commit("player",!1);var r={path:"/",query:{folder:t.path}};this.currentCollection>0&&(r.query.collection=this.currentCollection),this.app.router.push(r)}function P(e){return D.apply(this,arguments)}function D(){return(D=Object(o.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"",e.next=3,fetch(t.getters.getServerUrl+"folder/"+r,{headers:{Authorization:"Bearer "+v.a.get("audioserve_token")}});case 3:if(401!==(n=e.sent).status){e.next=7;break}return t.commit("loginStatus",!1),e.abrupt("return",!1);case 7:return e.next=9,n.json();case 9:if(!(o=e.sent)){e.next=18;break}if(!(o.files.length>0)){e.next=17;break}return console.log("check if files are cached"),e.next=15,z(t,o.files);case 15:o.files=e.sent,console.log(o);case 17:t.commit("folder",o);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,t){return T.apply(this,arguments)}function T(){return(T=Object(o.a)(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.forEach(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(r){var path,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return path=t.rootGetters["app/getFileUrl"](r.path),n={hash:t.rootState.app.book.hash,file:path},e.next=4,Y(t,n);case 4:r.isCached=e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,r;case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return B.apply(this,arguments)}function B(){return(B=Object(o.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.state.server+"collections",{headers:{Authorization:"Bearer "+v.a.get("audioserve_token")}});case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t){return L.apply(this,arguments)}function L(){return(L=Object(o.a)(regeneratorRuntime.mark((function e(t,path){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(t,path);case 2:r=e.sent,t.commit("folderDescription",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t){return U.apply(this,arguments)}function U(){return(U=Object(o.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.getItem(r);case 2:if(n=e.sent){e.next=14;break}if(o=null,!t.state.folder.description||!t.state.folder.description.path){e.next=9;break}return e.next=8,V(t,t.state.folder.description.path);case 8:o=e.sent;case 9:return c=null,t.state.folder.cover&&(c=t.state.server+"cover/"+t.state.folder.cover.path),n={hash:r,name:"Unknown",author:"Unknown",description:o,cover:c,seek:0,path:this.app.router.app.$route.query.folder},e.next=14,y.a.setItem(r,n);case 14:t.commit("book",n);case 15:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function M(e){return N.apply(this,arguments)}function N(){return(N=Object(o.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.dispatch("updateBookDetails",{seek:0});case 2:t.commit("player/currentFile",{index:0,start:0,duration:t.rootState.player.files[0].meta.duration,path:t.rootState.player.files[0].path},{root:!0}),t.commit("player/current",null,{root:!0});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,t){return G.apply(this,arguments)}function G(){return(G=Object(o.a)(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state.book,o=_(_({},n),r),e.next=4,y.a.setItem(t.state.book.hash,o);case 4:t.commit("book",o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e,t){return J.apply(this,arguments)}function J(){return(J=Object(o.a)(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.setItem(r.hash,r);case 2:t.commit("book",r);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e,t){return X.apply(this,arguments)}function X(){return(X=Object(o.a)(regeneratorRuntime.mark((function e(t,path){var r,n,o,data,output,c,f,d,h,line;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state.server+"desc/"+path,e.next=3,fetch(r,{headers:{Authorization:"Bearer "+v.a.get("audioserve_token")}});case 3:return n=e.sent,o=n.headers.get("Content-Type"),e.next=7,n.text();case 7:if(data=e.sent,output="",c="","text/html"===o)output=data;else if("text/x-markdown"===o||"text/markdown"===o)output=l()(data);else if("text/plain"===o){f=data.split(/\r?\n/),d=w(f);try{for(d.s();!(h=d.n()).done;)line=h.value,c+="<p>"+line+"</p>"}catch(e){d.e(e)}finally{d.f()}output=c}else output=n.data;return e.abrupt("return",output);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e,t){return Q.apply(this,arguments)}function Q(){return(Q=Object(o.a)(regeneratorRuntime.mark((function e(t,details){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("caches"in window){e.next=2;break}return e.abrupt("return",!1);case 2:return r=t.state.cacheKey+details.hash,e.next=5,caches.has(r);case 5:if(!e.sent){e.next=14;break}return e.next=9,caches.open(r);case 9:return n=e.sent,e.next=12,n.match(details.file);case 12:return o=e.sent,e.abrupt("return",void 0!==o);case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(o.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("caches"in window){e.next=2;break}return e.abrupt("return",[]);case 2:return t.commit("clearCachedBooks"),e.next=5,caches.keys();case 5:return(r=e.sent)&&r.forEach(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.replace(t.state.cacheKey,""),e.next=3,y.a.getItem(n);case 3:(o=e.sent)&&t.commit("addCachedBook",o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.log(r),e.abrupt("return",[]);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){var t="mp3";switch(e){case"audio/aac":t="aac";break;case"audio/mpeg":t="mp3";break;case"video/mp4":t="mp4";break;case"audio/ogg":t="oga";break;case"audio/opus":t="opus";break;case"audio/wav":t="wav";break;case"audio/webm":t="weba";break;case"audio/3gpp":t="3gp";break;case"audio/3gpp2":t="3g2"}return t}function te(e,t){return re.apply(this,arguments)}function re(){return(re=Object(o.a)(regeneratorRuntime.mark((function e(t,details){var r,n,o,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state.cacheKey+details.hash,e.next=3,caches.open(r);case 3:return n=e.sent,e.next=6,n.match(details.file);case 6:if(o=e.sent,c=null,void 0===o){e.next=13;break}return e.next=11,o.blob();case 11:l=e.sent,c=URL.createObjectURL(l);case 13:return f=ee(o.headers.get("content-type")),e.abrupt("return",{src:c,format:f});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e,t){return ae.apply(this,arguments)}function ae(){return(ae=Object(o.a)(regeneratorRuntime.mark((function e(t,details){var r,n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state.cacheKey+details.hash,e.next=3,caches.open(r);case 3:return n=e.sent,e.next=6,fetch(details.file,{headers:{Authorization:"Bearer "+v.a.get("audioserve_token")}});case 6:return o=e.sent,console.log(o),c=o.clone(),n.put(details.file,o),e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e,t){return ie.apply(this,arguments)}function ie(){return(ie=Object(o.a)(regeneratorRuntime.mark((function e(t,details){var r,n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t,details);case 2:if(!e.sent){e.next=5;break}return e.abrupt("return",te(t,details));case 5:return e.next=7,ne(t,details);case 7:if(r=e.sent,n=null,void 0===r){e.next=14;break}return e.next=12,r.blob();case 12:o=e.sent,n=URL.createObjectURL(o);case 14:return c=ee(r.headers.get("content-type")),e.abrupt("return",{src:n,format:c});case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(o.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.getItem("server");case 2:return r=e.sent,e.next=5,y.a.getItem("group");case 5:return n=e.sent,e.next=8,y.a.getItem("loginStatus");case 8:return o=e.sent,e.next=11,y.a.getItem("collections");case 11:return c=e.sent,e.next=14,y.a.getItem("currentCollection");case 14:l=e.sent,r&&t.commit("server",r),n&&t.commit("group",n),o&&t.commit("loginStatus",o),c&&t.commit("collections",c),l&&t.commit("currentCollection",l);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},148:function(e,t,r){"use strict";r(15),r(99),r(298);t.a=function(e,t){e.app;function r(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=Math.floor(e/3600).toString(),n=Math.floor(e%3600/60).toString(),s=Math.floor(e%60).toString();return t&&(r=r.padStart(2,"0"),n=n.padStart(2,"0"),s=s.padStart(2,"0")),{h:r,m:n,s:s}}t("formatToTime",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],time=r(e,n),output="";return time.h>0&&(output+=time.h+"h"),output+=time.m+"m",3===t&&(output+=time.s+"s"),output})),t("formatToPlayback",(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],time=r(e,t),output="";return time.h>0&&(output+=time.h+":"),output+String(time.m).padStart(2,"0")+":"+String(time.s).padStart(2,"0")}))}},149:function(e,t,r){"use strict";r.r(t);r(31),r(79),r(21);var n={name:"Cover",props:["image","path"],data:function(){return{}},computed:{title:function(){var output="";this.path&&this.path.split("/").forEach((function(e){output+='<p class="text-lg my-2 text-gray-600">'+e+"</p>"}));return output}}},o=r(7),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"w-full h-full flex justify-center items-center"},[e.image?r("img",{staticClass:"block rounded-md h-full",attrs:{src:e.image}}):r("div",{staticClass:"bg-gray-200 w-full h-full p-4 relative rounded flex justify-center items-center text-center"},[r("img",{staticClass:"absolute inset-2 transform top-1/2 opacity-60 -translate-y-1/2",attrs:{src:"logo-gray.svg",alt:""}}),e._v(" "),r("div",{staticClass:"relative z-10",domProps:{innerHTML:e._s(e.title)}})])])}),[],!1,null,null,null);t.default=component.exports},180:function(e,t,r){var content=r(247);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(53).default)("d48b1a92",content,!0,{sourceMap:!1})},181:function(e,t,r){var content=r(250);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(53).default)("51cd7b17",content,!0,{sourceMap:!1})},184:function(e,t,r){var content=r(253);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(53).default)("52269f99",content,!0,{sourceMap:!1})},198:function(e,t,r){"use strict";var n=r(0),o=(r(24),{name:"Layout",data:function(){return{foldername:""}},components:{},watch:{loginStatus:function(e,t){var r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("login status updated"),e===t){n.next=7;break}if(!1===e){n.next=7;break}return r.$route.query.collection>0?r.$store.commit("app/currentCollection",r.$route.query.collection):r.$store.commit("app/currentCollection",0),n.next=6,r.$store.dispatch("app/fetchFolder",r.currentFolder);case 6:r.$store.dispatch("app/getGroupDetails");case 7:case"end":return n.stop()}}),n)})))()}},computed:{currentFolder:function(){return this.$route.query.folder||""},loginStatus:function(){return this.$store.state.app.loginStatus},server:function(){return this.$store.state.app.server},folder:function(){return this.$store.state.app.folder},rightbar:function(){return this.$store.state.app.rightbar},player:function(){return this.$store.state.app.player}}}),c=r(7),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"relative flex items-top min-h-screen bg-gray-200 w-full overflow-hidden"},[r("div",{staticClass:"flex flex-col items-top h-screen w-full"},[r("Header"),e._v(" "),r("div",{staticClass:"flex w-full relative h-screen border-t border-gray-100 lg:border-t-0"},[r("Nav"),e._v(" "),r("Nuxt")],1),e._v(" "),r("LoginStatus")],1),e._v(" "),r("div",{staticClass:"transform transition-all border-l h-screen border-gray-300 w-full max-w-sm z-20 items-top absolute lg:relative inset-0 flex bg-gray-100 flex-col",class:{"-mr-96":!1===e.rightbar,"translate-x-full":!1===e.rightbar}},[null!==e.folder&&e.folder.files&&0===e.folder.files.length?r("folder-details",{attrs:{server:e.server,details:e.folder,name:e.foldername}}):e._e(),e._v(" "),null!==e.folder&&e.folder.files&&e.folder.files.length>0?r("book-details",{attrs:{server:e.server,details:e.folder,name:e.foldername}}):e._e()],1),e._v(" "),r("div",{staticClass:"transition-all transform absolute right-0 border-l h-screen border-gray-300 w-full max-w-sm items-top z-30 flex flex-col",class:{"translate-y-full":!1===e.player}},[null!==e.folder&&!1!==e.player?r("player",{attrs:{server:e.server,details:e.folder}}):e._e()],1)])}),[],!1,null,null,null);t.a=component.exports;installComponents(component,{Header:r(301).default,Nav:r(302).default,LoginStatus:r(303).default,FolderDetails:r(304).default,BookDetails:r(305).default,Player:r(306).default})},199:function(e,t,r){"use strict";var n=r(7),component=Object(n.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v("\n  I AM HERE\n  "),r("Nuxt")],1)}),[],!1,null,null,null);t.a=component.exports},202:function(e,t,r){"use strict";r.r(t);r(31),r(79),r(134),r(42);var n={name:"BreadCrumbs",computed:{breadcrumbs:function(){var e=[{name:"Home",link:"/",active:!1}];if(this.$route.query.folder&&"/"!==this.$route.query.folder)for(var t=this.$route.query.folder.split("/"),i=0;i<t.length;i++)e.push({name:t[i],link:t.slice(0,i+1).join("/"),active:i===t.length-1});return e}}},o=r(7),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.breadcrumbs.length>1?r("div",{staticClass:"breadcrumbs flex flex-wrap"},e._l(e.breadcrumbs,(function(t,n){return r("span",{key:n,staticClass:"my-1",class:{active:t.active},on:{click:function(r){return e.$store.dispatch("app/selectFolder",{path:t.link})}}},[e._v("\n    "+e._s(t.name)+"\n  ")])})),0):e._e()}),[],!1,null,null,null);t.default=component.exports},203:function(e,t,r){r(204),e.exports=r(205)},244:function(e,t,r){var content=r(245);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(53).default)("581dbee3",content,!0,{sourceMap:!1})},245:function(e,t,r){var n=r(52)((function(i){return i[1]}));n.push([e.i,'*,body{font-family:"Roboto",sans-serif;font-weight:400}body{--tw-text-opacity:1;color:rgba(75, 85, 99, var(--tw-text-opacity))}.content-area{height:calc(100vh - 6rem)}.mobilesearch{position:absolute;top:0;left:0;right:0;bottom:0;padding:15px}.mobilesearch input{padding:.75rem 1.25rem}.label-floating label{color:#9ca3af;font-weight:300}.label-floating input:not(:-moz-placeholder-shown),.label-floating select:not(:-moz-placeholder-shown){padding-top:1.6rem;padding-bottom:.25rem}.label-floating input:not(:-ms-input-placeholder),.label-floating select:not(:-ms-input-placeholder){padding-top:1.6rem;padding-bottom:.25rem}.label-floating input:not(:-moz-placeholder-shown), .label-floating select:not(:-moz-placeholder-shown){padding-top:1.6rem;padding-bottom:.25rem}.label-floating input:not(:-ms-input-placeholder), .label-floating select:not(:-ms-input-placeholder){padding-top:1.6rem;padding-bottom:.25rem}.label-floating input:not(:placeholder-shown),.label-floating select:not(:placeholder-shown){padding-top:1.6rem;padding-bottom:.25rem}.label-floating input:not(:-moz-placeholder-shown)~label, .label-floating select:not(:-moz-placeholder-shown)~label{padding-top:0.5rem;padding-bottom:0.5rem;font-weight:600;--tw-text-opacity:1;color:rgba(75, 85, 99, var(--tw-text-opacity))}.label-floating input:not(:-moz-placeholder-shown)~label,.label-floating select:not(:-moz-placeholder-shown)~label{font-size:.8rem;-moz-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.label-floating input:not(:-ms-input-placeholder)~label, .label-floating select:not(:-ms-input-placeholder)~label{padding-top:0.5rem;padding-bottom:0.5rem;font-weight:600;--tw-text-opacity:1;color:rgba(75, 85, 99, var(--tw-text-opacity))}.label-floating input:not(:-ms-input-placeholder)~label,.label-floating select:not(:-ms-input-placeholder)~label{font-size:.8rem;-ms-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.label-floating input:not(:-moz-placeholder-shown)~label, .label-floating select:not(:-moz-placeholder-shown)~label{padding-top:0.5rem;padding-bottom:0.5rem;font-weight:600;--tw-text-opacity:1;color:rgba(75, 85, 99, var(--tw-text-opacity))}.label-floating input:not(:-ms-input-placeholder)~label, .label-floating select:not(:-ms-input-placeholder)~label{padding-top:0.5rem;padding-bottom:0.5rem;font-weight:600;--tw-text-opacity:1;color:rgba(75, 85, 99, var(--tw-text-opacity))}.label-floating input:not(:placeholder-shown)~label, .label-floating select:not(:placeholder-shown)~label{padding-top:0.5rem;padding-bottom:0.5rem;font-weight:600;--tw-text-opacity:1;color:rgba(75, 85, 99, var(--tw-text-opacity))}.label-floating input:not(:-moz-placeholder-shown)~label, .label-floating select:not(:-moz-placeholder-shown)~label{font-size:.8rem;-moz-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.label-floating input:not(:-ms-input-placeholder)~label, .label-floating select:not(:-ms-input-placeholder)~label{font-size:.8rem;-ms-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.label-floating input:not(:placeholder-shown)~label,.label-floating select:not(:placeholder-shown)~label{font-size:.8rem;transition:all .2s ease-in-out}.breadcrumbs{margin-bottom:1.5rem;margin-top:0.5rem}.breadcrumbs span{position:relative;cursor:pointer;padding:0.25rem;padding-left:0.75rem;font-size:0.875rem;line-height:1.25rem;font-weight:400;--tw-text-opacity:1;color:rgba(107, 114, 128, var(--tw-text-opacity))}.breadcrumbs span:hover{--tw-bg-opacity:1;background-color:rgba(249, 250, 251, var(--tw-bg-opacity))}.breadcrumbs span{background-color:#edeff3;border:1px solid #dee1e4}.breadcrumbs span.active{font-weight:400;font-weight:500;--tw-text-opacity:1;color:rgba(209, 213, 219, var(--tw-text-opacity));--tw-text-opacity:1;color:rgba(219, 39, 119, var(--tw-text-opacity));text-decoration:none}.breadcrumbs span:after{border-left:5px solid #edeff3;z-index:2}.breadcrumbs span:after,.breadcrumbs span:before{content:" ";display:block;width:0;height:0;border-top:14px solid transparent;border-bottom:14px solid transparent;position:absolute;top:50%;transform:translateY(-50%);left:100%}.breadcrumbs span:before{border-left:5px solid #dee1e4;margin-left:1px;z-index:1}.breadcrumbs span:hover{background-color:#f1f3f5}.breadcrumbs span:hover:after{border-left:5px solid #f1f3f5}.sidebar{background-color:#f9f9f9}.nav{transition-property:background-color, border-color, color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:background-color, border-color, color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:background-color, border-color, color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms;border-left-width:6px}.nav:hover{--tw-drop-shadow:drop-shadow(0 1px 1px rgba(0,0,0,0.05));filter:var(--tw-filter);filter:var(--tw-filter);background-color:#f0f1f3}.nav.active{--tw-border-opacity:1;border-color:rgba(219, 39, 119, var(--tw-border-opacity));--tw-drop-shadow:drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1)) drop-shadow(0 1px 1px rgba(0, 0, 0, 0.06));filter:var(--tw-filter);filter:var(--tw-filter);border-left-width:6px;background-color:#f9fafb}.page-leave-active{transition-property:all;transition-timing-function:ease-in-out;transition-duration:50ms}.page-leave-to{opacity:1}.page-enter-active{transition-property:all;transition-timing-function:ease-in-out;transition-duration:.2s}.page-enter{transform:translateX(100%);opacity:.7}.prose h1{font-size:1.5rem;line-height:2rem;--tw-text-opacity:1;color:rgba(75, 85, 99, var(--tw-text-opacity))}.collection-container{border-bottom:1px solid #d1d5db}.logout:before{content:"";position:absolute;top:0;border-top:1px solid #f3f4f6;left:0;right:0}',""]),n.locals={},e.exports=n},246:function(e,t,r){"use strict";r(180)},247:function(e,t,r){var n=r(52)((function(i){return i[1]}));n.push([e.i,".description-text p{margin:15px 0}",""]),n.locals={},e.exports=n},249:function(e,t,r){"use strict";r(181)},250:function(e,t,r){var n=r(52)((function(i){return i[1]}));n.push([e.i,".description-text p{margin:15px 0}.readmore{height:95px;overflow:hidden}.readmore.active{height:auto;overflow:visible}",""]),n.locals={},e.exports=n},252:function(e,t,r){"use strict";r(184)},253:function(e,t,r){var n=r(52)((function(i){return i[1]}));n.push([e.i,".playback-slider{z-index:10;height:0.75rem;background-color:transparent;-webkit-appearance:none;width:100%;outline:none;transition:opacity .2s}.playback-slider::-webkit-slider-thumb{height:0.75rem;width:0.75rem;--tw-bg-opacity:1;background-color:rgba(219, 39, 119, var(--tw-bg-opacity));-webkit-appearance:none;appearance:none;border-radius:50%;cursor:pointer}.playback-slider::-moz-range-thumb{height:0.75rem;width:0.75rem;--tw-bg-opacity:1;background-color:rgba(219, 39, 119, var(--tw-bg-opacity));width:10px;height:10px;border-radius:50%;cursor:pointer}",""]),n.locals={},e.exports=n},254:function(e,t,r){"use strict";r.r(t);r(37),r(19),r(36),r(48),r(21),r(49);var n=r(18),o=r(80),c=r(136),l=r(137),f=r(138);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}t.default={namespaced:!0,state:function(){return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},o.default)},getters:c,mutations:l,actions:f}},255:function(e,t,r){"use strict";r.r(t);var n=r(139),o=r(140),c=r(141),l=r(142);t.default={namespaced:!0,state:n.default,getters:o,mutations:c,actions:l}},301:function(e,t,r){"use strict";r.r(t);r(31),r(98);var n={name:"Header",props:[],components:{},data:function(){return{}},computed:{group:function(){return this.$store.state.app.group},search:{get:function(){return this.$store.state.app.search},set:function(e){this.$store.commit("app/search",e)}},menu:{get:function(){return this.$store.state.app.menu},set:function(e){this.$store.commit("app/menu",e)}},searchterm:{get:function(){return this.$store.state.app.searchterm},set:function(e){this.$store.commit("app/searchterm",e)}}}},o=r(7),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"sticky top-0 flex flex-col items-top lg:h-screen w-full"},[r("div",{staticClass:"flex items-center w-full h-20 lg:h-24 border-b border-gray-300 lg:border-b-0 relative"},[r("div",{staticClass:"lg:w-80 flex-shrink-0 flex-grow-0 lg:border-r lg:border-b border-gray-300 p-3 px-6 lg:px-8 h-20 lg:h-24 flex items-center"},[r("NuxtLink",{staticClass:"flex items-center",attrs:{to:"/"}},[r("svg",{staticClass:"w-16 lg:w-18 mr-4 transform rotate-180",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"299.2254999999999 397.8038000000001 401.5409999999997 315.357"}},[r("path",{attrs:{d:"M681.4395 530.5928c-7.576-21.18-23.963-33.328-44.96-33.328h-18.151v112.545h18.151c21.275 0 37.716-11.724 45.097-32.154 2.644-7.197 4.042-15.312 4.042-23.47 0-7.84-1.446-16-4.179-23.593m-75.959 135.162c-7.915 8.056-19.048 12.674-30.542 12.674h-149.887c-11.521 0-22.373-4.506-30.57-12.702-8.054-7.915-12.673-19.05-12.673-30.544v-10.081h-20.884v6.767c0 16.855 4.4 31.759 12.705 43.07 8.861 12.406 22.551 20.08 39.548 22.186 3.465.494 7.073.744 10.721.744h152.193c3.651 0 7.258-.25 10.676-.739 17.198-2.114 30.564-9.575 39.732-22.182 8.075-11.192 12.386-25.775 12.538-42.2v-7.646h-20.709v10.081c0 11.407-4.672 22.539-12.848 30.572m-2.589-105.796h-34.725c-3.014 0-5.535-1.517-6.994-4.303l-13.465-22.148-22.213 54.207c-.713 2.139-2.207 3.759-4.265 4.582-.946.405-1.942.61-2.963.61-3.04 0-5.763-1.822-6.945-4.661l-22.973-53.708-24.537 72.2c-.056.167-.113.305-.168.443-.089.222-.177.444-.268.713-.149.449-.573.983-.948 1.456-1.04 1.171-2.14 1.955-3.269 2.33-.882.293-1.788.444-2.695.444-1.081 0-2.116-.217-2.937-.599-.734-.368-1.369-.685-1.814-1.128l-.107-.108-.121-.092c-.841-.657-1.648-1.84-2.224-3.214l-16.72-47.024h-35.441v75.224c0 7.33 2.992 14.526 8.21 19.743 5.219 5.219 12.415 8.21 19.742 8.21h149.887c7.437 0 14.448-2.915 19.744-8.21 5.217-5.217 8.209-12.413 8.209-19.743zm0-74.664c0-7.436-2.915-14.447-8.209-19.74-5.293-5.296-12.305-8.211-19.744-8.211h-39.921c-1.392 0-2.963-.491-4.376-1.388l-66.669-37.071v30.812c0 4.217-3.43 7.647-7.646 7.647h-31.275c-7.33 0-14.527 2.994-19.742 8.211-5.294 5.293-8.21 12.304-8.21 19.74v59.371h40.923c3.481 0 6.413 2.226 7.358 5.735l11.015 30.656 23.847-70.429c1.131-3.13 4.093-5.234 7.373-5.234.81 0 1.618.129 2.349.365 2.055.721 3.794 2.395 4.758 4.561l23.484 55.12 20.858-51.268c.56-1.679 1.688-3.065 3.272-4.014 1.217-.739 2.606-1.128 4.014-1.128 2.677 0 5.094 1.352 6.473 3.628l19.595 32.008h30.473zm-221.083 11.97h-18.153c-20.777 0-37.639 12.459-45.103 33.323-2.639 7.333-4.034 15.493-4.034 23.598 0 8.537 1.31 16.435 3.892 23.457 7.386 20.443 23.878 32.167 45.245 32.167h18.153zm314.203 85.493c-7.253 20.099-21.476 34.198-40.049 39.706l-1.604.476v8.929c0 20.138-5.369 38.127-15.537 52.044-11.508 15.991-28.816 25.811-50.081 28.404-4.197.561-8.452.844-12.649.844h-152.193c-4.196 0-8.45-.283-12.673-.846-21.387-2.624-38.231-12.184-50.065-28.417-10.158-13.902-15.527-31.891-15.527-52.029v-8.973l-1.465-.432c-18.724-5.515-32.942-19.61-40.054-39.735-3.244-8.649-4.889-18.252-4.889-28.543 0-9.727 1.696-19.662 4.9-28.717 9.951-27.644 31.649-43.496 59.53-43.496h18.15l.271-2.135c1.207-9.522 5.612-18.43 12.419-25.099 8.183-8.181 19.035-12.687 30.556-12.687h23.774l-.006-36.062c-.112-1.572.223-3.077.965-4.35 1.413-2.402 3.883-3.836 6.609-3.836 1.354 0 2.688.375 3.876 1.095l76.816 43.153h37.853c11.494 0 22.627 4.618 30.575 12.706 6.79 6.65 11.196 15.558 12.401 25.08l.27 2.135h18.295c27.789 0 49.435 15.852 59.382 43.484 3.209 9.065 4.905 18.999 4.905 28.765.138 9.627-1.508 19.496-4.755 28.536",fill:"#db2777"}})]),e._v(" "),r("div",{staticClass:"flex flex-col"},[r("div",{staticClass:"font-semibold text-lg uppercase text-pink-600 leading-none"},[e._v("\n            Audio"),r("span",{staticClass:"font-bold text-gray-600"},[e._v("Serve")])]),e._v(" "),r("div",{staticClass:"leading-none text-xs font-normal text-gray-500"},[e._v("\n            "+e._s(e.group)+"\n          ")])])])],1),e._v(" "),r("div",{staticClass:"px-0 lg:px-12 w-full items-center flex items-center lg:border-l border-gray-100 h-20 lg:h-24",class:{mobilesearch:e.search,flex:e.search}},[r("floating-label-input",{class:{block:e.search,hidden:!e.search},attrs:{title:"Search..."},model:{value:e.searchterm,callback:function(t){e.searchterm=t},expression:"searchterm"}}),e._v(" "),r("div",{staticClass:"ml-3"},[r("div",{staticClass:"rounded-full bg-gray-300 w-8 h-8 justify-center items-center",class:{flex:e.search,hidden:!e.search},on:{click:function(t){e.search=!1}}},[r("i",{staticClass:"fa-thin fa-times fa-fw"})])]),e._v(" "),r("div",{staticClass:"flex lg:hidden justify-end text-lg mr-1",class:{hidden:e.search}},[r("div",{staticClass:"bg-gray-200 rounded w-10 h-10 flex justify-center items-center mx-1",on:{click:function(t){e.search=!0}}},[r("i",{staticClass:"fa-light fa-magnifying-glass"})]),e._v(" "),r("div",{staticClass:"bg-gray-200 rounded w-10 h-10 flex justify-center items-center mx-1",on:{click:function(t){e.menu=!e.menu}}},[r("i",{staticClass:"fa-light fa-bars"})])])],1)])])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{FloatingLabelInput:r(103).default})},302:function(e,t,r){"use strict";r.r(t);var n={name:"Nav",props:[],computed:{group:function(){return this.$store.state.app.group},collections:function(){return this.$store.state.app.collections},menu:function(){return this.$store.state.app.menu},activepage:function(){return this.$store.state.app.activepage},currentCollection:function(){return this.$store.state.app.currentCollection}},methods:{logout:function(){this.$store.commit("app/loginStatus",!1)},changeCollection:function(e){this.$store.commit("app/currentCollection",e.target.value)}}},o=r(7),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"transition-all z-40 bg-gray-200 flex-shrink-0 flex-grow-0 w-screen transform lg:translate-x-0 lg:w-80 h-(screen-80) lg:h-(screen-96) border-r border-gray-300 absolute inset-0 lg:relative",class:{"-translate-x-full":!e.menu,"translate-x-0":e.menu}},[e.collections.length>1?r("div",{staticClass:"relative border-t border-gray-100 appearance-none flex-grow collection-container"},[r("select",{staticClass:"w-full py-1 px-6 bg-gray-200 text-sm leading-normal w-full",domProps:{value:e.currentCollection},on:{change:e.changeCollection}},e._l(e.collections,(function(option,t){return r("option",{key:t,domProps:{value:t}},[e._v("\n        "+e._s(option)+"\n      ")])})),0)]):e._e(),e._v(" "),r("div",{staticClass:"lg:border-t border-gray-100 p-8 px-6"},[r("NuxtLink",{staticClass:"flex items-center my-2 p-3 px-5 rounded-lg nav",class:{active:"library"===e.activepage},attrs:{to:"/"}},[r("i",{staticClass:"fa-light fa-fw fa-rectangle-vertical-history mr-2 fa-lg"}),e._v("\n      Library\n    ")]),e._v(" "),r("NuxtLink",{staticClass:"flex items-center my-2 p-3 px-5 rounded-lg nav",class:{active:"settings"===e.activepage},attrs:{to:"/settings"}},[r("i",{staticClass:"fa-light fa-fw fa-gear mr-2 fa-lg"}),e._v("\n      Settings\n    ")]),e._v(" "),r("NuxtLink",{staticClass:"flex items-center my-2 p-3 px-5 rounded-lg nav",class:{active:"cached"===e.activepage},attrs:{to:"/cached"}},[r("i",{staticClass:"fa-light fa-fw fa-box-archive mr-2 fa-lg"}),e._v("\n      Cached\n    ")]),e._v(" "),r("div",{staticClass:"flex cursor-pointer absolute bottom-0 left-0 border-t border-gray-300 w-full items-center p-5 px-10 logout",on:{click:e.logout}},[r("i",{staticClass:"fa-light fa-fw fa-right-from-bracket mr-2 fa-lg"}),e._v("\n      Logout\n    ")])],1)])}),[],!1,null,null,null);t.default=component.exports},303:function(e,t,r){"use strict";r.r(t);var n={name:"Login",props:[],components:{FloatingLabelInput:r(103).default},data:function(){return{}},computed:{loginStatus:function(){return this.$store.state.app.loginStatus},server:{get:function(){return this.$store.state.app.server},set:function(e){this.$store.commit("app/server",e)}},group:{get:function(){return this.$store.state.app.group},set:function(e){this.$store.commit("app/group",e)}},secret:{get:function(){return this.$store.state.app.secret},set:function(e){this.$store.commit("app/secret",e)}}},methods:{login:function(){this.$store.dispatch("app/login",{server:this.server,group:this.group,secret:this.secret})}}},o=r(7),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return!1===e.loginStatus?r("div",{staticClass:"fixed inset-0 bg-gray-900 bg-opacity-75 z-50 flex justify-center items-center"},[r("div",{staticClass:"rounded-lg flex bg-gray-100 flex-col p-8 w-full max-w-md m-4"},[r("div",{staticClass:"flex justify-center mb-5"},[r("NuxtLink",{staticClass:"flex items-center",attrs:{to:"/"}},[r("svg",{staticClass:"w-20 mr-3 transform rotate-180",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"299.2254999999999 397.8038000000001 401.5409999999997 315.357"}},[r("path",{attrs:{d:"M681.4395 530.5928c-7.576-21.18-23.963-33.328-44.96-33.328h-18.151v112.545h18.151c21.275 0 37.716-11.724 45.097-32.154 2.644-7.197 4.042-15.312 4.042-23.47 0-7.84-1.446-16-4.179-23.593m-75.959 135.162c-7.915 8.056-19.048 12.674-30.542 12.674h-149.887c-11.521 0-22.373-4.506-30.57-12.702-8.054-7.915-12.673-19.05-12.673-30.544v-10.081h-20.884v6.767c0 16.855 4.4 31.759 12.705 43.07 8.861 12.406 22.551 20.08 39.548 22.186 3.465.494 7.073.744 10.721.744h152.193c3.651 0 7.258-.25 10.676-.739 17.198-2.114 30.564-9.575 39.732-22.182 8.075-11.192 12.386-25.775 12.538-42.2v-7.646h-20.709v10.081c0 11.407-4.672 22.539-12.848 30.572m-2.589-105.796h-34.725c-3.014 0-5.535-1.517-6.994-4.303l-13.465-22.148-22.213 54.207c-.713 2.139-2.207 3.759-4.265 4.582-.946.405-1.942.61-2.963.61-3.04 0-5.763-1.822-6.945-4.661l-22.973-53.708-24.537 72.2c-.056.167-.113.305-.168.443-.089.222-.177.444-.268.713-.149.449-.573.983-.948 1.456-1.04 1.171-2.14 1.955-3.269 2.33-.882.293-1.788.444-2.695.444-1.081 0-2.116-.217-2.937-.599-.734-.368-1.369-.685-1.814-1.128l-.107-.108-.121-.092c-.841-.657-1.648-1.84-2.224-3.214l-16.72-47.024h-35.441v75.224c0 7.33 2.992 14.526 8.21 19.743 5.219 5.219 12.415 8.21 19.742 8.21h149.887c7.437 0 14.448-2.915 19.744-8.21 5.217-5.217 8.209-12.413 8.209-19.743zm0-74.664c0-7.436-2.915-14.447-8.209-19.74-5.293-5.296-12.305-8.211-19.744-8.211h-39.921c-1.392 0-2.963-.491-4.376-1.388l-66.669-37.071v30.812c0 4.217-3.43 7.647-7.646 7.647h-31.275c-7.33 0-14.527 2.994-19.742 8.211-5.294 5.293-8.21 12.304-8.21 19.74v59.371h40.923c3.481 0 6.413 2.226 7.358 5.735l11.015 30.656 23.847-70.429c1.131-3.13 4.093-5.234 7.373-5.234.81 0 1.618.129 2.349.365 2.055.721 3.794 2.395 4.758 4.561l23.484 55.12 20.858-51.268c.56-1.679 1.688-3.065 3.272-4.014 1.217-.739 2.606-1.128 4.014-1.128 2.677 0 5.094 1.352 6.473 3.628l19.595 32.008h30.473zm-221.083 11.97h-18.153c-20.777 0-37.639 12.459-45.103 33.323-2.639 7.333-4.034 15.493-4.034 23.598 0 8.537 1.31 16.435 3.892 23.457 7.386 20.443 23.878 32.167 45.245 32.167h18.153zm314.203 85.493c-7.253 20.099-21.476 34.198-40.049 39.706l-1.604.476v8.929c0 20.138-5.369 38.127-15.537 52.044-11.508 15.991-28.816 25.811-50.081 28.404-4.197.561-8.452.844-12.649.844h-152.193c-4.196 0-8.45-.283-12.673-.846-21.387-2.624-38.231-12.184-50.065-28.417-10.158-13.902-15.527-31.891-15.527-52.029v-8.973l-1.465-.432c-18.724-5.515-32.942-19.61-40.054-39.735-3.244-8.649-4.889-18.252-4.889-28.543 0-9.727 1.696-19.662 4.9-28.717 9.951-27.644 31.649-43.496 59.53-43.496h18.15l.271-2.135c1.207-9.522 5.612-18.43 12.419-25.099 8.183-8.181 19.035-12.687 30.556-12.687h23.774l-.006-36.062c-.112-1.572.223-3.077.965-4.35 1.413-2.402 3.883-3.836 6.609-3.836 1.354 0 2.688.375 3.876 1.095l76.816 43.153h37.853c11.494 0 22.627 4.618 30.575 12.706 6.79 6.65 11.196 15.558 12.401 25.08l.27 2.135h18.295c27.789 0 49.435 15.852 59.382 43.484 3.209 9.065 4.905 18.999 4.905 28.765.138 9.627-1.508 19.496-4.755 28.536",fill:"#db2777"}})]),e._v(" "),r("div",{staticClass:"flex flex-col"},[r("div",{staticClass:"font-semibold uppercase text-pink-600 text-2xl leading-none"},[e._v("\n            Audio"),r("span",{staticClass:"font-bold text-gray-600"},[e._v("Serve")])])])])],1),e._v(" "),r("floating-label-input",{staticClass:"my-2",attrs:{title:"Server"},model:{value:e.server,callback:function(t){e.server=t},expression:"server"}}),e._v(" "),r("floating-label-input",{staticClass:"my-2",attrs:{title:"Shared Secret"},model:{value:e.secret,callback:function(t){e.secret=t},expression:"secret"}}),e._v(" "),r("floating-label-input",{staticClass:"my-2",attrs:{title:"User/Group"},model:{value:e.group,callback:function(t){e.group=t},expression:"group"}}),e._v(" "),r("button",{staticClass:"bg-pink-600 text-white w-full mt-3 p-3 rounded-xl text-lg",on:{click:e.login}},[e._v("\n      Login\n    ")])],1)]):e._e()}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{FloatingLabelInput:r(103).default})},304:function(e,t,r){"use strict";r.r(t);var n=r(0),o=(r(24),r(19),r(35),r(15),r(23),r(28),r(100),r(41)),c=r.n(o),l={name:"FolderDetails",props:["details","name","server"],data:function(){return{image:null}},computed:{description:function(){return this.$store.state.app.folderDescription}},watch:{details:function(e,t){e!==t&&e.description&&(console.log("update description"),this.$store.dispatch("app/getFolderDescription",this.details.description.path)),e.image||e.description?this.$store.commit("app/rightbar",!0):this.$store.commit("app/rightbar",!1),this.image=null,this.getImage()}},mounted:function(){this.image||this.description?(this.$store.commit("app/rightbar",!0),this.getImage()):this.$store.commit("app/rightbar",!1)},methods:{getImage:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.details||!e.details.cover){t.next=10;break}return r=e.$store.getters["app/getServerUrl"]+"cover/"+e.details.cover.path,t.next=4,fetch(r,{headers:{Authorization:"Bearer "+c.a.get("audioserve_token")}});case 4:return n=t.sent,t.next=7,n.blob();case 7:o=t.sent,l=URL.createObjectURL(o),e.image=l;case 10:case"end":return t.stop()}}),t)})))()}}},f=(r(246),r(7)),component=Object(f.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex flex-col overflow-auto"},[r("div",{staticClass:"text p-8 pb-5 flex flex-col justify-center"},[r("img",{staticClass:"block shadow rounded-md",attrs:{src:e.image}})]),e._v(" "),r("div",{staticClass:"text-xl flex justify-center px-8 font-bold"},[e._v(e._s(e.name))]),e._v(" "),r("div",{staticClass:"text px-8 description-text text-sm prose",domProps:{innerHTML:e._s(e.description)}})])}),[],!1,null,null,null);t.default=component.exports},305:function(e,t,r){"use strict";r.r(t);var n=r(0),o=(r(24),r(19),r(35),r(21),r(108),r(15),r(23),r(28),r(100),r(60),r(41)),c=r.n(o),l={name:"BookDetails",props:["details","name","server"],data:function(){return{readmore:!1,cached:!1,downloading:!1,image:null}},computed:{moretext:function(){return this.readmore?"Less..":"More.."},description:function(){return this.$store.state.app.book.description},transcode:function(){return this.$store.state.app.transcode},seek:function(){return this.$store.state.app.book.seek},hash:function(){return this.$store.getters["app/hash"](this.$route.fullPath)},totalTime:function(){var e=0;return this.details.files.forEach((function(t){e+=t.meta.duration})),e},remaining:function(){var e=this.totalTime-this.seek;return this.$formatToTime(e,2,!1)+" remaining"},percent:function(){var e=(this.totalTime-this.seek)/this.totalTime*100;return 100-e.toFixed(0)},player:function(){return this.$store.state.player.player},playing:function(){return this.$store.state.player.playing},cacheavailable:function(){return"caches"in window}},mounted:function(){this.getImage()},methods:{listen:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.playing){t.next=4;break}e.$store.commit("app/player",!0),t.next=8;break;case 4:return t.next=6,e.$store.dispatch("player/load");case 6:e.$store.commit("app/player",!0),e.player.play();case 8:case"end":return t.stop()}}),t)})))()},getImage:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.details||!e.details.cover){t.next=10;break}return r=e.$store.getters["app/getServerUrl"]+"cover/"+e.details.cover.path,t.next=4,fetch(r,{headers:{Authorization:"Bearer "+c.a.get("audioserve_token")}});case 4:return n=t.sent,t.next=7,n.blob();case 7:o=t.sent,l=URL.createObjectURL(o),e.image=l;case 10:case"end":return t.stop()}}),t)})))()},download:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("download"),e.downloading=!0,t.next=4,navigator.storage.persist();case 4:return r=t.sent,console.log("Persisted storage granted: ".concat(r)),n=e.$store.state.app.cacheKey+e.hash,t.next=9,caches.delete(n);case 9:return t.next=11,caches.open(n);case 11:return o=t.sent,t.next=14,Promise.all(e.details.files.map((function(t){return o.add(e.$store.getters["app/getFileUrl"](t.path))})));case 14:e.downloading=!1,e.cached=!0,console.log("files cached "+n);case 17:case"end":return t.stop()}}),t)})))()}}},f=(r(249),r(7)),component=Object(f.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex flex-col overflow-auto pb-8"},[r("div",{staticClass:"text pt-3 lg:pt-8 p-8 pb-5 flex flex-col justify-center"},[r("div",{staticClass:"lg:hidden"},[r("BreadCrumbs")],1),e._v(" "),r("div",{staticClass:"w-80 h-80 bg-gray-300 justify-center flex items-center rounded-md shadow-inner p-4"},[r("Cover",{attrs:{image:e.image,path:e.$route.query.folder}})],1)]),e._v(" "),r("div",{staticClass:"text-xl flex justify-center px-8 font-bold"},[e._v(e._s(e.name))]),e._v(" "),r("button",{staticClass:"text-white bg-pink-600 font-normal rounded-lg mx-8 my-4 p-3",on:{click:e.listen}},[r("i",{staticClass:"fa-light fa-circle-play"}),e._v(" Listen")]),e._v(" "),e.description?[r("div",{staticClass:"text px-8 description-text text-sm readmore",class:{active:e.readmore},domProps:{innerHTML:e._s(e.description)}}),e._v(" "),r("div",{staticClass:"px-8 text-pink-600 font-normal text-sm cursor-pointer",on:{click:function(t){e.readmore=!e.readmore}}},[e._v(e._s(e.moretext))])]:e._e(),e._v(" "),r("div",{staticClass:"px-8 mt-3 font-normal text-sm"},[e._v("Progress")]),e._v(" "),r("div",{staticClass:"flex px-8 pt-1 items-center"},[r("div",{staticClass:"relative flex-grow mr-2"},[r("div",{staticClass:"overflow-hidden h-1 text-xs flex rounded bg-gray-300"},[r("div",{staticClass:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-pink-600",style:{width:e.percent+"%"}})])]),e._v(" "),r("div",{staticClass:"text-sm"},[e._v(e._s(e.percent)+"%")])]),e._v(" "),r("div",{staticClass:"px-8 text-xs"},[e._v(e._s(e.remaining))]),e._v(" "),r("div",{staticClass:"px-8 pt-8"},[e.cacheavailable?r("div",{staticClass:"cursor-pointer relative"},[r("span",{directives:[{name:"show",rawName:"v-show",value:!e.cached&&!e.downloading,expression:"!cached && !downloading"}],staticClass:"fa-layers fa-fw fa-2x",on:{click:e.download}},[r("i",{staticClass:"fa-solid fa-circle text-gray-600"}),e._v(" "),r("i",{staticClass:"fa-inverse fa-light fa-arrow-down-to-line",attrs:{"data-fa-transform":"shrink-8"}})]),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:e.downloading,expression:"downloading"}],staticClass:"fa-layers fa-fw fa-2x"},[r("i",{staticClass:"fa-solid fa-circle text-gray-600"}),e._v(" "),r("i",{staticClass:"fa-inverse fa-thin fa-down-to-line fa-beat",attrs:{"data-fa-transform":"shrink-8"}})]),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:e.cached,expression:"cached"}],staticClass:"fa-layers fa-fw fa-2x"},[r("i",{staticClass:"fa-solid fa-circle text-gray-600"}),e._v(" "),r("i",{staticClass:"fa-inverse fa-thin fa-trash-can",attrs:{"data-fa-transform":"shrink-8"}})]),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:e.downloading,expression:"downloading"}],staticClass:"fa-layers fa-fw fa-2x absolute inset-0 opacity-70"},[r("i",{staticClass:"fa-solid fa-circle text-gray-600"}),e._v(" "),r("i",{staticClass:"fa-inverse fa-light fa-spinner-third fa-spin",attrs:{"data-fa-transform":"shrink-2"}})])]):e._e()])],2)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{BreadCrumbs:r(202).default,Cover:r(149).default})},306:function(e,t,r){"use strict";r.r(t);var n=r(0),o=(r(24),r(108),r(200),r(201),r(39),{name:"Player",props:["details","server"],data:function(){return{editPlaybackSpeed:!1}},computed:{image:function(){return this.$store.state.app.book.cover},groupDetails:function(){return this.$store.state.app.groupDetails},playbackSpeed:function(){return Number.parseFloat(this.groupDetails.playback_speed).toFixed(2)},transcode:function(){return this.$store.state.app.transcode},seek:function(){return this.$store.state.app.book.seek},hash:function(){return this.$store.getters["app/hash"](this.$route.fullPath)},totalTime:function(){return 0},remaining:function(){return this.currentFile.duration-this.current},totalremaining:function(){var e=this.$store.getters["player/totalTime"]-this.currentFile.start-this.current;return this.$formatToTime(e,2,!1)+" remaining"},percent:function(){return 0},localpercent:function(){return this.player?100-(Math.ceil(this.remaining)/this.currentFile.duration*100).toFixed(2):0},currentFile:function(){return this.$store.state.player.currentFile},playing:function(){return this.$store.state.player.playing},current:function(){return this.$store.state.player.current},player:function(){return this.$store.state.player.player},loading:function(){return this.$store.state.player.loading},chaptername:function(){return this.details.files&&this.currentFile?this.details.files[this.currentFile.index].name:"Chapter 1"}},mounted:function(){var e=this,t=this;this.player.onload=function(e){t.$store.commit("player/loading",!1)},this.player.onplay=function(e){t.$store.commit("player/playing",!0),t.updatePlayerDetails()},this.player.onpause=function(r){e.$store.commit("player/playing",!1),e.$store.dispatch("app/updateBookDetails",{seek:t.currentFile.start+t.current})},this.player.onended=function(e){console.log("track ended"),t.nextTrack()}},beforeDestroy:function(){console.log("clean up"),caches.delete(this.$store.state.app.cacheKey+"temp-"+this.hash)},methods:{prevFile:function(){return{index:this.currentFile.index-1,start:this.currentFile.start-this.currentFile.duration,duration:this.details.files[this.currentFile.index-1].meta.duration,path:this.details.files[this.currentFile.index-1].path}},nextFile:function(){return{index:this.currentFile.index+1,start:this.currentFile.start+this.currentFile.duration,duration:this.details.files[this.currentFile.index+1].meta.duration,path:this.details.files[this.currentFile.index+1].path}},nextTrack:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.currentFile.index+1>=e.details.files.length)){t.next=4;break}return t.next=3,e.$store.dispatch("app/resetBook");case 3:return t.abrupt("return",null);case 4:return t.next=6,e.$store.dispatch("app/updateBookDetails",{seek:e.currentFile.start+e.currentFile.duration});case 6:return t.next=8,e.$store.dispatch("player/load");case 8:return t.next=10,e.player.play();case 10:case"end":return t.stop()}}),t)})))()},updateSeek:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.playing){r.next=9;break}return r.next=3,t.player.pause();case 3:return t.player.currentTime=e.target.value,t.$store.commit("player/current",e.target.value),r.next=7,t.player.play();case 7:r.next=11;break;case 9:t.player.currentTime=e.target.value,t.$store.commit("player/current",e.target.value);case 11:case"end":return r.stop()}}),r)})))()},loadFile:function(e){return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},updatePlayerDetails:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this,n=Date.now();n>t+1e3&&(t=n,r.$store.commit("player/current",e||r.player.currentTime)),!0===this.playing&&window.requestAnimationFrame((function(){r.updatePlayerDetails(e,t)}))},closePlayer:function(){this.$store.commit("app/player",!1)},togglePlay:function(){this.playing?this.pause():this.play()},play:function(){this.player.play()},pause:function(){console.log("pause pressed"),this.player.pause()},updatePlaybackSpeed:function(e){this.$store.commit("app/playbackSpeed",e.target.value),this.player.playbackRate=e.target.value.toFixed(2)},increasePlaybackSpeed:function(){var e=parseFloat(this.playbackSpeed)+parseFloat("0.05");this.$store.commit("app/playbackSpeed",e.toFixed(2)),this.player.playbackRate=e.toFixed(2)},decreasePlaybackSpeed:function(){var e=parseFloat(this.playbackSpeed)-parseFloat("0.05");this.$store.commit("app/playbackSpeed",e.toFixed(2)),this.player.playbackRate=e.toFixed(2)},seekForwards:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.player.pause(),r=e.player.currentTime+parseInt(e.groupDetails.seekForwards),n=e.currentFile.duration,!(r>=n)){t.next=11;break}if(!(e.currentFile.index<e.details.files.length)){t.next=11;break}return r-=e.currentFile.duration,e.$store.commit("player/currentFile",e.nextFile()),t.next=9,e.$store.dispatch("player/load",{file:e.currentFile.path,seek:0});case 9:t.next=11;break;case 11:console.log("> skipping to "+r+" from "+e.player.currentTime),e.player.currentTime=r,e.player.play();case 14:case"end":return t.stop()}}),t)})))()},seekBackwards:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.player.pause(),r=e.player.currentTime,!((n=r-parseInt(e.groupDetails.seekBackwards))<=0)){t.next=12;break}if(!(e.currentFile.index>0)){t.next=11;break}return e.$store.commit("player/currentFile",e.prevFile()),n=e.currentFile.duration+n,t.next=9,e.$store.dispatch("player/load",{file:e.currentFile.path,seek:e.currentFile.duration});case 9:t.next=12;break;case 11:n=0;case 12:console.log("< skipping to "+n+" from "+r),e.player.currentTime=n,e.player.play();case 15:case"end":return t.stop()}}),t)})))()}}}),c=(r(252),r(7)),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex flex-col justify-between relative bg-gray-100 h-screen overflow-auto"},[r("div",{staticClass:"absolute top-0 right-0 w-8 h-8 rounded-bl flex cursor-pointer justify-center items-center",on:{click:e.closePlayer}},[r("i",{staticClass:"fa-thin fa-chevron-down"})]),e._v(" "),r("div",[r("div",{staticClass:"text p-8 pb-5 pt-12 flex justify-center flex-shrink"},[r("div",{staticClass:"w-80 h-80 bg-gray-300 justify-center flex items-center rounded-md shadow-inner p-4"},[r("Cover",{attrs:{image:e.image,path:e.$route.query.folder}})],1)]),e._v(" "),r("div",{staticClass:"w-full px-8 flex flex-col text-center items-center"},[r("div",{staticClass:" font-semibold flex mb-2"},[e._v(e._s(e.chaptername))]),e._v(" "),r("div",{staticClass:"flex py-1 items-center w-full relative mb-1"},[r("div",{staticClass:"relative flex-grow mr-2"},[r("div",{staticClass:"overflow-hidden h-1 text-xs flex rounded bg-gray-300"},[r("div",{staticClass:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-pink-600",style:{width:e.localpercent+"%"}})])]),e._v(" "),r("input",{staticClass:"absolute playback-slider",attrs:{type:"range",min:"0",max:e.currentFile.duration},domProps:{value:e.current},on:{input:e.updateSeek}})]),e._v(" "),r("div",{staticClass:"flex w-full justify-between pointer-events-none"},[r("div",{staticClass:"text-xs"},[e._v(e._s(e.$formatToPlayback(e.current)))]),e._v(" "),r("div",{staticClass:"px-8 text-xs"},[e._v(e._s(e.totalremaining))]),e._v(" "),r("div",{staticClass:"text-xs"},[e._v("-"+e._s(e.$formatToPlayback(e.remaining)))])])])]),e._v(" "),r("div",{staticClass:"flex items-center w-full justify-evenly my-2"},[r("div",{},[r("span",{staticClass:"fa-layers fa-fw fa-3x relative",on:{click:e.seekBackwards}},[r("i",{staticClass:"fa-thin fa-circle-notch fa-rotate-by",staticStyle:{"--fa-rotate-angle":"-23deg"}}),e._v(" "),r("i",{staticClass:"fa-solid fa-chevron-left",staticStyle:{"font-size":"12px"},attrs:{"data-fa-transform":"up-30"}}),e._v(" "),r("span",{staticClass:"text-sm absolute inset-0 flex justify-center items-center"},[e._v(e._s(e.groupDetails.seekBackwards))])])]),e._v(" "),r("div",{staticClass:"cursor-pointer relative"},[r("span",{directives:[{name:"show",rawName:"v-show",value:!e.playing,expression:"!playing"}],staticClass:"fa-layers fa-fw fa-6x",on:{click:e.togglePlay}},[r("i",{staticClass:"fa-solid fa-circle text-gray-600"}),e._v(" "),r("i",{staticClass:"fa-inverse fa-solid fa-play",attrs:{"data-fa-transform":"shrink-10"}})]),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:e.playing,expression:"playing"}],staticClass:"fa-layers fa-fw fa-6x",on:{click:e.togglePlay}},[r("i",{staticClass:"fa-solid fa-circle text-gray-600"}),e._v(" "),r("i",{staticClass:"fa-inverse fa-solid fa-pause",attrs:{"data-fa-transform":"shrink-10"}})]),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"fa-layers fa-fw fa-6x absolute inset-0 opacity-70"},[r("i",{staticClass:"fa-solid fa-circle text-gray-600"}),e._v(" "),r("i",{staticClass:"fa-inverse fa-light fa-spinner-third fa-spin",attrs:{"data-fa-transform":"shrink-2"}})])]),e._v(" "),r("div",{},[r("span",{staticClass:"fa-layers fa-fw fa-3x relative",on:{click:e.seekForwards}},[r("i",{staticClass:"fa-thin fa-circle-notch fa-rotate-by",staticStyle:{"--fa-rotate-angle":"23deg"}}),e._v(" "),r("i",{staticClass:"fa-solid fa-chevron-right",staticStyle:{"font-size":"12px"},attrs:{"data-fa-transform":"up-30"}}),e._v(" "),r("span",{staticClass:"text-sm absolute inset-0 flex justify-center items-center"},[e._v(e._s(e.groupDetails.seekForwards))])])])]),e._v(" "),r("div",{staticClass:"p-2 w-full"},[r("div",{staticClass:"bg-gray-200 rounded p-3 px-6 w-full relative flex justify-between"},[r("button",{staticClass:"cursor-pointer",on:{click:function(t){e.editPlaybackSpeed=!0}}},[e._v(e._s(e.playbackSpeed)+"x")]),e._v(" "),e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),e.editPlaybackSpeed?r("div",{staticClass:"absolute inset-0 flex bg-gray-200 rounded justify-between p-3 px-6"},[r("span",[e._v(e._s(e.playbackSpeed)+"x")]),e._v(" "),r("div",{staticClass:"flex items-center"},[r("div",{staticClass:"mx-3 cursor-pointer",on:{click:e.decreasePlaybackSpeed}},[r("i",{staticClass:"fa-solid fa-circle-minus text-gray-600 fa-lg"})]),e._v(" "),r("div",[r("input",{staticClass:"w-12 p-2 text-center",domProps:{value:e.playbackSpeed},on:{input:e.updatePlaybackSpeed}})]),e._v(" "),r("div",{staticClass:"mx-3 cursor-pointer",on:{click:e.increasePlaybackSpeed}},[r("i",{staticClass:"fa-solid fa-circle-plus text-gray-600 fa-lg"})])]),e._v(" "),r("div",{staticClass:"cursor-pointer",on:{click:function(t){e.editPlaybackSpeed=!1}}},[e._v("Close")])]):e._e()])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"cursor-pointer"},[t("i",{staticClass:"fa-light fa-alarm-snooze"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"cursor-pointer"},[t("i",{staticClass:"fa-light fa-airplay"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"cursor-pointer"},[t("i",{staticClass:"fa-light fa-sliders-up"})])}],!1,null,null,null);t.default=component.exports;installComponents(component,{Cover:r(149).default})},80:function(e,t,r){"use strict";r.r(t),t.default={player:new Audio,playing:!1,loading:!1,current:0,files:[],currentFile:{index:0,start:0,duration:0,path:""}}}},[[203,6,1,7]]]);