(window.webpackJsonp=window.webpackJsonp||[]).push([[4,2],{302:function(t,e,r){"use strict";r.r(e);r(33),r(106),r(143),r(45);var o={name:"BreadCrumbs",computed:{breadcrumbs:function(){var t=[{name:"Home",link:"/",active:!1}];if(this.$route.query.folder&&"/"!==this.$route.query.folder)for(var e=this.$route.query.folder.split("/"),i=0;i<e.length;i++)t.push({name:e[i],link:e.slice(0,i+1).join("/"),active:i===e.length-1});return t}}},n=r(9),component=Object(n.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.breadcrumbs.length>1?r("div",{staticClass:"breadcrumbs flex-col lg:flex-row"},t._l(t.breadcrumbs,(function(e,o){return r("span",{key:o,class:{active:e.active},on:{click:function(r){return t.$emit("selectFolder",{path:e.link})}}},[t._v("\n    "+t._s(e.name)+"\n  ")])})),0):t._e()}),[],!1,null,null,null);e.default=component.exports},305:function(t,e,r){"use strict";r.r(e);var o=r(2),n=(r(29),r(14),r(42)),l=r.n(n),c={layout:"page",name:"App",transition:{name:"page"},components:{},data:function(){return{foldername:"",corsproxy:"",secret:""}},computed:{currentFolder:function(){return this.$route.query.folder||""},loginStatus:function(){return this.$store.state.app.loginStatus},server:function(){return this.$store.state.app.server},folder:function(){return this.$store.state.app.folder},group:function(){return this.$store.state.app.group},rightbar:function(){return this.$store.state.app.rightbar},collections:function(){return this.$store.state.app.collections},currentCollection:function(){return this.$store.state.app.currentCollection},loginsecret:function(){return this.$store.state.app.loginsecret},player:function(){return this.$store.state.app.player}},watch:{$route:function(t,e){console.log("watch route triggered"),t!==e&&(t.query.collection>0?this.$store.commit("app/currentCollection",t.query.collection):this.$store.commit("app/currentCollection",0),t.query.folder?this.fetchFolder(t.query.folder):this.fetchFolder())},loginStatus:function(t,e){console.log("login status updated"),t!==e&&!1!==t&&(this.$route.query.collection>0?this.$store.commit("app/currentCollection",this.$route.query.collection):this.$store.commit("app/currentCollection",0),this.fetchFolder(this.currentFolder))},currentCollection:function(t,e){t!==e&&this.selectFolder({path:"/"})}},mounted:function(){this.$store.dispatch("app/initialiseApp"),this.$store.commit("app/activepage","library"),this.fetchFolder()},methods:{fetchFolder:function(){var t=arguments,e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var o,n,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=t.length>0&&void 0!==t[0]?t[0]:"",r.next=3,fetch(e.$store.getters["app/getServerUrl"]+"folder/"+o,{headers:{Authorization:"Bearer "+l.a.get("audioserve_token")}});case 3:if(401!==(n=r.sent).status){r.next=7;break}return e.$store.commit("app/loginStatus",!1),r.abrupt("return",!1);case 7:return r.next=9,n.json();case 9:(c=r.sent)&&e.$store.commit("app/folder",c);case 11:case"end":return r.stop()}}),r)})))()},updateServer:function(input){this.$store.commit("app/server",input)},selectFolder:function(t){this.$store.commit("app/folderDescription",""),this.$store.commit("app/player",!1);var e={path:"/",query:{folder:t.path}};this.currentCollection>0&&(e.query.collection=this.currentCollection),this.$router.push(e),this.fetchFolder(encodeURIComponent(t.path))}}},f=r(9),component=Object(f.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"p-3 px-6 lg:px-12 w-screen lg:w-full content-area overflow-auto lg:border-l border-gray-100"},[t.folder&&t.folder.subfolders?r("div",[t.folder.subfolders.length>0?r("div",{staticClass:"my-6 text-xl font-bold text-gray-600"},[t._v("\n      Folders\n      "),r("BreadCrumbs",{on:{selectFolder:t.selectFolder}})],1):t._e(),t._v(" "),t._l(t.folder.subfolders,(function(e,o){return r("div",{key:o,staticClass:"bg-gray-50 filter drop-shadow rounded-lg my-2 w-full flex text-gray-600 max-w-xl items-center cursor-pointer",on:{click:function(r){return t.selectFolder(e)}}},[t._m(0,!0),t._v(" "),r("div",{staticClass:"px-5"},[r("span",{staticClass:"text-sm font-medium"},[t._v(t._s(e.name))])])])}))],2):t._e(),t._v(" "),t.folder&&t.folder.files?r("div",[t.folder.files.length>0?r("div",{staticClass:"my-6 text-xl font-bold text-gray-600"},[t._v("\n      Files\n      "),r("BreadCrumbs",{on:{selectFolder:t.selectFolder}})],1):t._e(),t._v(" "),t._l(t.folder.files,(function(e,o){return r("div",{key:o,staticClass:"bg-gray-50 filter drop-shadow rounded-lg my-2 w-full flex text-gray-600 max-w-xl items-center cursor-pointer",on:{click:function(r){return t.selectFile(e)}}},[r("div",{staticClass:"p-4 text-gray-50 bg-blue-400 rounded-l-lg"},[r("svg",{staticClass:"svg-inline--fa fa-fw fa-book fa-lg",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fal","data-icon":"book",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[r("path",{attrs:{fill:"currentColor",d:"M448 368v-320C448 21.49 426.5 0 400 0h-320C35.82 0 0 35.82 0 80V448c0 35.35 28.65 64 64 64h368c8.844 0 16-7.156 16-16S440.8 480 432 480H416v-66.95C434.6 406.4 448 388.8 448 368zM32 80C32 53.49 53.49 32 80 32H96v352H64c-11.71 0-22.55 3.389-32 8.9V80zM384 480H64c-17.64 0-32-14.36-32-32s14.36-32 32-32h320V480zM400 384H128V32h272C408.8 32 416 39.17 416 48v320C416 376.8 408.8 384 400 384zM352 128H192C183.2 128 176 135.2 176 144S183.2 160 192 160h160c8.844 0 16-7.156 16-16S360.8 128 352 128zM352 224H192C183.2 224 176 231.2 176 240S183.2 256 192 256h160c8.844 0 16-7.156 16-16S360.8 224 352 224z"}})])]),t._v(" "),r("div",{staticClass:"flex justify-between w-full items-center"},[r("div",{staticClass:"px-5 flex flex-col"},[r("span",{staticClass:"text-sm font-medium"},[t._v(t._s(e.name))]),t._v(" "),r("span",{staticClass:"text-xs text-gray-500"},[r("span",{staticClass:"font-normal"},[t._v("Duration:")]),t._v(" "),r("span",{},[t._v(t._s(t.$formatToTime(e.meta.duration,3,!1)))]),t._v(" "),r("span",{staticClass:"ml-2 font-normal"},[t._v("Bitrate:")]),t._v(" "),r("span",{},[t._v(t._s(e.meta.bitrate))]),t._v("kbps")])]),t._v(" "),t._m(1,!0)])])}))],2):t._e()])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"p-4 text-gray-50 bg-pink-600 rounded-l-lg"},[e("i",{staticClass:"fa-light fa-fw fa-folder fa-lg"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"px-4"},[e("div",{staticClass:"w-4 h-4 bg-gray-200 rounded-full"})])}],!1,null,null,null);e.default=component.exports;installComponents(component,{BreadCrumbs:r(302).default})}}]);